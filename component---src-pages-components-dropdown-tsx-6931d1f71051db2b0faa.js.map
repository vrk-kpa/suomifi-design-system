{"version":3,"file":"component---src-pages-components-dropdown-tsx-6931d1f71051db2b0faa.js","mappings":"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","sources":["webpack://suomifi-design-system/./node_modules/suomifi-ui-components/dist/esm/core/Form/Label/Label.js","webpack://suomifi-design-system/./node_modules/suomifi-ui-components/dist/esm/core/Form/Label/Label.baseStyles.js","webpack://suomifi-design-system/./node_modules/@reach/utils/use-stable-callback/dist/reach-utils-use-stable-callback.esm.js","webpack://suomifi-design-system/./node_modules/@xstate/fsm/es/index.js","webpack://suomifi-design-system/./node_modules/@reach/utils/use-constant/dist/reach-utils-use-constant.esm.js","webpack://suomifi-design-system/./node_modules/@reach/machine/dist/reach-machine.esm.js","webpack://suomifi-design-system/./node_modules/@reach/listbox/dist/reach-listbox.esm.js","webpack://suomifi-design-system/./node_modules/suomifi-ui-components/dist/esm/core/Dropdown/Dropdown/Dropdown.js","webpack://suomifi-design-system/./node_modules/suomifi-ui-components/dist/esm/core/Dropdown/Dropdown/Dropdown.baseStyles.js","webpack://suomifi-design-system/./node_modules/suomifi-ui-components/dist/esm/core/Dropdown/DropdownItem/DropdownItem.basestyles.js","webpack://suomifi-design-system/./node_modules/suomifi-ui-components/dist/esm/core/Dropdown/DropdownItem/DropdownItem.js","webpack://suomifi-design-system/./src/pages/components/dropdown.tsx"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport React, { useState, isValidElement, cloneElement } from 'react';\nimport classnames from 'classnames';\nimport styled from 'styled-components';\nimport { SuomifiThemeConsumer } from '../../theme/SuomifiThemeProvider/SuomifiThemeProvider.js';\nimport '../../theme/SuomifiTheme/SuomifiTheme.js';\nimport { baseStyles } from './Label.baseStyles.js';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden.js';\nimport '../../../reset/HtmlA/HtmlA.js';\nimport '../../../reset/HtmlButton/HtmlButton.js';\nimport { HtmlDivWithRef } from '../../../reset/HtmlDiv/HtmlDiv.js';\nimport '../../../reset/HtmlFieldSet/HtmlFieldSet.js';\nimport '../../../reset/HtmlH/HtmlH.js';\nimport '../../../reset/HtmlInput/HtmlInput.js';\nimport '../../../reset/HtmlLabel/HtmlLabel.js';\nimport '../../../reset/HtmlLegend/HtmlLegend.js';\nimport '../../../reset/HtmlLi/HtmlLi.js';\nimport '../../../reset/HtmlNav/HtmlNav.js';\nimport '../../../reset/HtmlOl/HtmlOl.js';\nimport { HtmlSpan } from '../../../reset/HtmlSpan/HtmlSpan.js';\nimport '../../../reset/HtmlTextarea/HtmlTextarea.js';\nimport '../../../reset/HtmlUl/HtmlUl.js';\nvar _excluded = [\"className\", \"contentStyle\", \"contentClassName\", \"theme\", \"labelMode\", \"wrapperProps\", \"children\", \"asProp\", \"optionalText\", \"tooltipComponent\", \"forceTooltipRerender\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar baseClassName = 'fi-label';\nvar labelTextClassNames = {\n  labelSpan: \"\".concat(baseClassName, \"_label-span\"),\n  optionalText: \"\".concat(baseClassName, \"_optional-text\")\n};\nvar StyledLabel = styled(function (_ref) {\n  var className = _ref.className,\n      contentStyle = _ref.contentStyle,\n      contentClassName = _ref.contentClassName;\n  _ref.theme;\n\n  var _ref$labelMode = _ref.labelMode,\n      labelMode = _ref$labelMode === void 0 ? 'visible' : _ref$labelMode,\n      wrapperProps = _ref.wrapperProps,\n      children = _ref.children,\n      _ref$asProp = _ref.asProp,\n      asProp = _ref$asProp === void 0 ? 'label' : _ref$asProp,\n      optionalText = _ref.optionalText,\n      tooltipComponentProp = _ref.tooltipComponent,\n      _ref$forceTooltipRere = _ref.forceTooltipRerender,\n      forceTooltipRerender = _ref$forceTooltipRere === void 0 ? false : _ref$forceTooltipRere,\n      passProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperRef = _useState2[0],\n      setWrapperRef = _useState2[1];\n\n  function getTooltipComponent(tooltipComponent) {\n    if ( /*#__PURE__*/isValidElement(tooltipComponent)) {\n      return /*#__PURE__*/cloneElement(tooltipComponent, {\n        anchorElement: wrapperRef,\n        key: forceTooltipRerender ? Date.now() : null\n      });\n    }\n\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(HtmlDivWithRef, _objectSpread(_objectSpread({\n    className: classnames(className, baseClassName)\n  }, wrapperProps), {}, {\n    forwardedRef: function forwardedRef(ref) {\n      return setWrapperRef(ref);\n    }\n  }), labelMode === 'hidden' ? /*#__PURE__*/React.createElement(VisuallyHidden, _objectSpread({\n    as: asProp\n  }, passProps), children, optionalText && \"(\".concat(optionalText, \")\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HtmlSpan, _objectSpread(_objectSpread({\n    as: asProp,\n    style: contentStyle ? _objectSpread({}, contentStyle) : {}\n  }, passProps), {}, {\n    className: classnames(labelTextClassNames.labelSpan, contentClassName)\n  }), children, optionalText && /*#__PURE__*/React.createElement(HtmlSpan, {\n    className: labelTextClassNames.optionalText\n  }, \" (\".concat(optionalText, \")\"))), !!tooltipComponentProp && getTooltipComponent(tooltipComponentProp)));\n}).withConfig({\n  componentId: \"sc-cooxd2-0\"\n})([\"\", \"\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return baseStyles(theme);\n});\n\nvar Label = function Label(props) {\n  return /*#__PURE__*/React.createElement(SuomifiThemeConsumer, null, function (_ref3) {\n    var suomifiTheme = _ref3.suomifiTheme;\n    return /*#__PURE__*/React.createElement(StyledLabel, _objectSpread({\n      theme: suomifiTheme\n    }, props));\n  });\n};\n\nLabel.displayName = 'Label';\nexport { Label };","import { css } from 'styled-components';\nimport { font } from '../../theme/reset/index.js';\n\nvar baseStyles = function baseStyles(theme) {\n  return css([\"&.fi-label{& .fi-label_label-span{\", \";display:inline-block;vertical-align:middle;color:\", \";& .fi-label_optional-text{\", \";}& .fi-tooltip{margin-left:\", \";}}}\"], font(theme)('actionElementInnerTextBold'), theme.colors.blackBase, theme.typography.bodyTextSmall, theme.spacing.insetS);\n};\n\nexport { baseStyles };","import { useCallback, useRef, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '../../use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js';\nimport '../../can-use-dom/dist/reach-utils-can-use-dom.esm.js';\n/* eslint-disable react-hooks/rules-of-hooks */\n\n/**\n * Converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop and exposed as a stable function to avoid executing effects when\n * passed as a dependency.\n */\n\nfunction createStableCallbackHook(useEffectHook, callback) {\n  var callbackRef = useRef(callback);\n  useEffectHook(function () {\n    callbackRef.current = callback;\n  }); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return useCallback(function () {\n    callbackRef.current && callbackRef.current.apply(callbackRef, arguments);\n  }, []);\n}\n/**\n * Converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop and exposed as a stable function to avoid executing effects when passed\n * as a dependency.\n */\n\n\nfunction useStableCallback(callback) {\n  return createStableCallbackHook(useEffect, callback);\n}\n/**\n * Converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop and exposed as a stable function to avoid executing effects when passed\n * as a dependency.\n *\n * Use this over `useStableCallback` when you want the callback to be cached in\n * `useLayoutEffect` instead of `useEffect` to deal with timing issues only when\n * needed.\n */\n\n\nfunction useStableLayoutCallback(callback) {\n  return createStableCallbackHook(useIsomorphicLayoutEffect, callback);\n}\n\nexport { useStableCallback, useStableLayoutCallback };","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar t;\n!function (t) {\n  t[t.NotStarted = 0] = \"NotStarted\", t[t.Running = 1] = \"Running\", t[t.Stopped = 2] = \"Stopped\";\n}(t || (t = {}));\nvar n = {\n  type: \"xstate.init\"\n};\n\nfunction e(t) {\n  return void 0 === t ? [] : [].concat(t);\n}\n\nfunction r(t) {\n  return {\n    type: \"xstate.assign\",\n    assignment: t\n  };\n}\n\nfunction i(t, n) {\n  return \"string\" == typeof (t = \"string\" == typeof t && n && n[t] ? n[t] : t) ? {\n    type: t\n  } : \"function\" == typeof t ? {\n    type: t.name,\n    exec: t\n  } : t;\n}\n\nfunction o(t) {\n  return function (n) {\n    return t === n;\n  };\n}\n\nfunction a(t) {\n  return \"string\" == typeof t ? {\n    type: t\n  } : t;\n}\n\nfunction u(t, n) {\n  return {\n    value: t,\n    context: n,\n    actions: [],\n    changed: !1,\n    matches: o(t)\n  };\n}\n\nfunction c(t, n) {\n  void 0 === n && (n = {});\n  var r = {\n    config: t,\n    _options: n,\n    initialState: {\n      value: t.initial,\n      actions: e(t.states[t.initial].entry).map(function (t) {\n        return i(t, n.actions);\n      }),\n      context: t.context,\n      matches: o(t.initial)\n    },\n    transition: function transition(n, c) {\n      var s,\n          f,\n          l = \"string\" == typeof n ? {\n        value: n,\n        context: t.context\n      } : n,\n          v = l.value,\n          p = l.context,\n          g = a(c),\n          y = t.states[v];\n\n      if (y.on) {\n        var d = e(y.on[g.type]),\n            x = function x(n) {\n          if (void 0 === n) return {\n            value: u(v, p)\n          };\n          var e = \"string\" == typeof n ? {\n            target: n\n          } : n,\n              a = e.target,\n              c = void 0 === a ? v : a,\n              s = e.actions,\n              f = void 0 === s ? [] : s,\n              l = e.cond,\n              d = p;\n\n          if ((void 0 === l ? function () {\n            return !0;\n          } : l)(p, g)) {\n            var x = t.states[c],\n                m = !1,\n                h = [].concat(y.exit, f, x.entry).filter(function (t) {\n              return t;\n            }).map(function (t) {\n              return i(t, r._options.actions);\n            }).filter(function (t) {\n              if (\"xstate.assign\" === t.type) {\n                m = !0;\n                var n = Object.assign({}, d);\n                return \"function\" == typeof t.assignment ? n = t.assignment(d, g) : Object.keys(t.assignment).forEach(function (e) {\n                  n[e] = \"function\" == typeof t.assignment[e] ? t.assignment[e](d, g) : t.assignment[e];\n                }), d = n, !1;\n              }\n\n              return !0;\n            });\n            return {\n              value: {\n                value: c,\n                context: d,\n                actions: h,\n                changed: c !== v || h.length > 0 || m,\n                matches: o(c)\n              }\n            };\n          }\n        };\n\n        try {\n          for (var m = function (t) {\n            var n = \"function\" == typeof Symbol && t[Symbol.iterator],\n                e = 0;\n            return n ? n.call(t) : {\n              next: function next() {\n                return t && e >= t.length && (t = void 0), {\n                  value: t && t[e++],\n                  done: !t\n                };\n              }\n            };\n          }(d), h = m.next(); !h.done; h = m.next()) {\n            var S = x(h.value);\n            if (\"object\" == typeof S) return S.value;\n          }\n        } catch (t) {\n          s = {\n            error: t\n          };\n        } finally {\n          try {\n            h && !h.done && (f = m.return) && f.call(m);\n          } finally {\n            if (s) throw s.error;\n          }\n        }\n      }\n\n      return u(v, p);\n    }\n  };\n  return r;\n}\n\nvar s = function s(t, n) {\n  return t.actions.forEach(function (e) {\n    var r = e.exec;\n    return r && r(t.context, n);\n  });\n};\n\nfunction f(e) {\n  var r = e.initialState,\n      i = t.NotStarted,\n      o = new Set(),\n      u = {\n    _machine: e,\n    send: function send(n) {\n      i === t.Running && (r = e.transition(r, n), s(r, a(n)), o.forEach(function (t) {\n        return t(r);\n      }));\n    },\n    subscribe: function subscribe(t) {\n      return o.add(t), t(r), {\n        unsubscribe: function unsubscribe() {\n          return o.delete(t);\n        }\n      };\n    },\n    start: function start() {\n      return i = t.Running, s(r, n), u;\n    },\n    stop: function stop() {\n      return i = t.Stopped, o.clear(), u;\n    },\n\n    get state() {\n      return r;\n    },\n\n    get status() {\n      return i;\n    }\n\n  };\n  return u;\n}\n\nexport { t as InterpreterStatus, r as assign, c as createMachine, f as interpret };","import { useRef } from 'react';\n/**\n * React hook for creating a value exactly once.\n * @see https://github.com/Andarist/use-constant\n */\n\nfunction useConstant(fn) {\n  var ref = useRef();\n\n  if (!ref.current) {\n    ref.current = {\n      v: fn()\n    };\n  }\n\n  return ref.current.v;\n}\n\nexport { useConstant };","import { useRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport { interpret, createMachine } from '@xstate/fsm';\nexport { InterpreterStatus, assign, createMachine, interpret } from '@xstate/fsm';\nimport { isString } from '@reach/utils/type-check';\nimport { useConstant } from '@reach/utils/use-constant';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar getServiceState = function getServiceState(service) {\n  var currentValue;\n  service.subscribe(function (state) {\n    currentValue = state;\n  }).unsubscribe();\n  return currentValue;\n};\n/**\n * This `useMachine` works very similiarly to what you get from `@xstate/react`\n * with some additions.\n *  - A second argument `refs` is passed to send all of our refs into our\n *    machine's contextual data object.\n *  - We wrap the `send` function so that refs are updated included in all of\n *    our events so we can use their current value (generally DOM nodes)\n *    anywhere in our actions.\n *  - We initialize the machine inside the component rather than throwing an\n *    error if an outside initializer creates a value that doesn't match. This\n *    is useful as some components may need a different initial state or some\n *    initial data based on props. We should *generally* just update the state\n *    with an event via useEffect and depend on a static initial value, but this\n *    is difficult if that initial value matters for SSR or to prevent some\n *    layout jank before the first paint. I don't think there's a problem with\n *    this approach, but we'll see what happens.\n *\n * @param initialMachine\n * @param refs\n */\n\n\nfunction useMachine(initialMachine, refs, DEBUG) {\n  // State machine should not change between renders, so let's store it in a\n  // ref. This should also help if we need to use a creator function to inject\n  // dynamic initial state values based on props.\n  var machineRef = useRef(initialMachine);\n  var service = useConstant(function () {\n    return interpret(machineRef.current).start();\n  });\n  var lastEventType = useRef(null);\n\n  var _React$useState = useState(function () {\n    return getServiceState(service);\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1]; // This function reference will change on every render if we just pass on\n  // current.matches, but it shouldn't change unless the current value is\n  // updated. This was causing some lagginess when profiling in Listbox but\n  // is probably an issue everywhere since the parent components that handle\n  // state logic at the top might re-create context on each render as a\n  // result of this change.\n  // Add refs to every event so we can use them to perform actions.\n\n\n  var send = useCallback(function (rawEvent) {\n    var event = isString(rawEvent) ? {\n      type: rawEvent\n    } : rawEvent;\n    var refValues = unwrapRefs(refs);\n    service.send(_extends({}, event, {\n      lastEventType: lastEventType.current,\n      refs: refValues\n    }));\n    lastEventType.current = event.type;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (DEBUG) {\n        console.group(\"Event Sent\");\n        console.log(\"Event:\", event);\n        console.groupEnd();\n      }\n    }\n  }, // We can disable the lint warning here. Refs will always be refs\n  // (TypeScript enforced!) and should not trigger a re-render. The state\n  // machine service persist for the life of the component.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [DEBUG]);\n  useEffect(function () {\n    service.subscribe(function setStateIfChanged(newState) {\n      if (newState.changed) {\n        setState(newState);\n      }\n    });\n    return function () {\n      service.stop();\n    };\n  }, [service]);\n  useEffect(function () {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (DEBUG && state.changed) {\n        console.group(\"State Updated\");\n        console.log(\"State:\", state);\n        console.groupEnd();\n      }\n    }\n  }, [DEBUG, state]); // We are going to pass along our state without the actions to avoid excess\n  // renders when the reference changes. We haven't really needed them at this\n  // point, but if we do we can maybe reconsider this approach.\n\n  var memoizedState = useMemo(function () {\n    return _extends({}, state, {\n      matches: function matches(value) {\n        return value === state.value;\n      }\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [state.changed, state.context, state.value]);\n  return [memoizedState, send, service];\n}\n/**\n * Converts an object with React refs into an object with the same keys and\n * the current value of those refs.\n *\n * @param refs\n */\n\n\nfunction unwrapRefs(refs) {\n  return Object.entries(refs).reduce(function (value, _ref) {\n    var name = _ref[0],\n        ref = _ref[1];\n    value[name] = ref.current;\n    return value;\n  }, {});\n}\n/**\n * Most of the time you want to create a static state machine outside of your\n * component, but in some cases we may need data from props in the first render\n * cycle. We can create our machine in each component IF we only create it once\n * and guarantee that it never changes between renders.\n *\n * This hook can take a machine definition created by a function inline to use\n * values defined in the component, and we never change the machine for the\n * life of the component.\n *\n * @param machineDefinition\n * @param options\n */\n\n\nfunction useCreateMachine(machineDefinition, options) {\n  return useConstant(function () {\n    return createMachine(machineDefinition, options);\n  });\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nexport { unwrapRefs, useCreateMachine, useMachine };","import { forwardRef, useRef, useMemo, useEffect, createElement, Fragment, useContext, memo, useState, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useId } from '@reach/auto-id';\nimport { Popover, positionMatchWidth } from '@reach/popover';\nimport { createDescendantContext, useDescendantsInit, DescendantProvider, useDescendant, useDescendants, useDescendantKeyDown } from '@reach/descendants';\nimport { isRightClick } from '@reach/utils/is-right-click';\nimport { useIsomorphicLayoutEffect } from '@reach/utils/use-isomorphic-layout-effect';\nimport { useStableCallback } from '@reach/utils/use-stable-callback';\nimport { createNamedContext } from '@reach/utils/context';\nimport { isFunction, isBoolean, isString } from '@reach/utils/type-check';\nimport { makeId } from '@reach/utils/make-id';\nimport { useControlledSwitchWarning, useCheckStyles } from '@reach/utils/dev-utils';\nimport { useComposedRefs } from '@reach/utils/compose-refs';\nimport { useStatefulRefValue } from '@reach/utils/use-stateful-ref-value';\nimport { composeEventHandlers } from '@reach/utils/compose-event-handlers';\nimport { assign, useCreateMachine, useMachine } from '@reach/machine';\nimport { getOwnerDocument } from '@reach/utils/owner-document';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _commonEvents; ////////////////////////////////////////////////////////////////////////////////\n// States\n\n\nvar ListboxStates; ////////////////////////////////////////////////////////////////////////////////\n// Events\n\n(function (ListboxStates) {\n  ListboxStates[\"Idle\"] = \"IDLE\";\n  ListboxStates[\"Open\"] = \"OPEN\";\n  ListboxStates[\"Navigating\"] = \"NAVIGATING\";\n  ListboxStates[\"Dragging\"] = \"DRAGGING\";\n  ListboxStates[\"Interacting\"] = \"INTERACTING\";\n})(ListboxStates || (ListboxStates = {}));\n\nvar ListboxEvents; ////////////////////////////////////////////////////////////////////////////////\n// Actions and conditions\n\n(function (ListboxEvents) {\n  ListboxEvents[\"ButtonMouseDown\"] = \"BUTTON_MOUSE_DOWN\";\n  ListboxEvents[\"ButtonMouseUp\"] = \"BUTTON_MOUSE_UP\";\n  ListboxEvents[\"Blur\"] = \"BLUR\";\n  ListboxEvents[\"ClearNavSelection\"] = \"CLEAR_NAV_SELECTION\";\n  ListboxEvents[\"ClearTypeahead\"] = \"CLEAR_TYPEAHEAD\";\n  ListboxEvents[\"GetDerivedData\"] = \"GET_DERIVED_DATA\";\n  ListboxEvents[\"KeyDownEscape\"] = \"KEY_DOWN_ESCAPE\";\n  ListboxEvents[\"KeyDownEnter\"] = \"KEY_DOWN_ENTER\";\n  ListboxEvents[\"KeyDownSpace\"] = \"KEY_DOWN_SPACE\";\n  ListboxEvents[\"KeyDownNavigate\"] = \"KEY_DOWN_NAVIGATE\";\n  ListboxEvents[\"KeyDownSearch\"] = \"KEY_DOWN_SEARCH\";\n  ListboxEvents[\"KeyDownTab\"] = \"KEY_DOWN_TAB\";\n  ListboxEvents[\"KeyDownShiftTab\"] = \"KEY_DOWN_SHIFT_TAB\";\n  ListboxEvents[\"OptionTouchStart\"] = \"OPTION_TOUCH_START\";\n  ListboxEvents[\"OptionMouseMove\"] = \"OPTION_MOUSE_MOVE\";\n  ListboxEvents[\"OptionMouseEnter\"] = \"OPTION_MOUSE_ENTER\";\n  ListboxEvents[\"OptionMouseDown\"] = \"OPTION_MOUSE_DOWN\";\n  ListboxEvents[\"OptionMouseUp\"] = \"OPTION_MOUSE_UP\";\n  ListboxEvents[\"OptionClick\"] = \"OPTION_CLICK\";\n  ListboxEvents[\"ListMouseUp\"] = \"LIST_MOUSE_UP\";\n  ListboxEvents[\"OptionPress\"] = \"OPTION_PRESS\";\n  ListboxEvents[\"OutsideMouseDown\"] = \"OUTSIDE_MOUSE_DOWN\";\n  ListboxEvents[\"OutsideMouseUp\"] = \"OUTSIDE_MOUSE_UP\";\n  ListboxEvents[\"ValueChange\"] = \"VALUE_CHANGE\";\n  ListboxEvents[\"PopoverPointerDown\"] = \"POPOVER_POINTER_DOWN\";\n  ListboxEvents[\"PopoverPointerUp\"] = \"POPOVER_POINTER_UP\";\n  ListboxEvents[\"UpdateAfterTypeahead\"] = \"UPDATE_AFTER_TYPEAHEAD\";\n})(ListboxEvents || (ListboxEvents = {}));\n\nvar clearNavigationValue = /*#__PURE__*/assign({\n  navigationValue: null\n});\nvar clearTypeahead = /*#__PURE__*/assign({\n  typeaheadQuery: null\n});\nvar assignValue = /*#__PURE__*/assign({\n  value: function value(_, event) {\n    return event.value;\n  }\n});\nvar navigate = /*#__PURE__*/assign({\n  navigationValue: function navigationValue(data, event) {\n    return event.value;\n  }\n});\nvar navigateFromCurrentValue = /*#__PURE__*/assign({\n  navigationValue: function navigationValue(data) {\n    // Before we navigate based on the current value, we need to make sure the\n    // current value is selectable. If not, we should instead navigate to the\n    // first selectable option.\n    var selected = findOptionFromValue(data.value, data.options);\n\n    if (selected && !selected.disabled) {\n      return data.value;\n    } else {\n      var _data$options$find;\n\n      return ((_data$options$find = data.options.find(function (option) {\n        return !option.disabled;\n      })) == null ? void 0 : _data$options$find.value) || null;\n    }\n  }\n});\n\nfunction listboxLostFocus(data, event) {\n  if (event.type === ListboxEvents.Blur) {\n    var _event$refs = event.refs,\n        list = _event$refs.list,\n        popover = _event$refs.popover;\n    var relatedTarget = event.relatedTarget;\n    var ownerDocument = getOwnerDocument(popover);\n    return !!((ownerDocument == null ? void 0 : ownerDocument.activeElement) !== list && popover && !popover.contains(relatedTarget || (ownerDocument == null ? void 0 : ownerDocument.activeElement)));\n  }\n\n  return false;\n}\n\nfunction clickedOutsideOfListbox(data, event) {\n  if (event.type === ListboxEvents.OutsideMouseDown || event.type === ListboxEvents.OutsideMouseUp) {\n    var _event$refs2 = event.refs,\n        button = _event$refs2.button,\n        popover = _event$refs2.popover;\n    var relatedTarget = event.relatedTarget; // Close the popover IF:\n\n    return !!( // clicked element is not the button\n    relatedTarget !== button && // clicked element is not inside the button\n    button && !button.contains(relatedTarget) && // clicked element is not inside the popover\n    popover && !popover.contains(relatedTarget));\n  }\n\n  return false;\n}\n\nfunction optionIsActive(data, event) {\n  return !!data.options.find(function (option) {\n    return option.value === data.navigationValue;\n  });\n}\n\nfunction shouldNavigate(data, event) {\n  var _event$refs3 = event.refs,\n      popover = _event$refs3.popover,\n      list = _event$refs3.list;\n  var relatedTarget = event.relatedTarget; // When a blur event happens, we want to move to Navigating state unless the\n  // user is interacting with elements inside the popover...\n\n  if (popover && relatedTarget && popover.contains(relatedTarget) && relatedTarget !== list) {\n    return false;\n  } // ...otherwise, just make sure the next option is selectable\n\n\n  return optionIsActive(data);\n}\n\nfunction focusList(data, event) {\n  requestAnimationFrame(function () {\n    event.refs.list && event.refs.list.focus();\n  });\n}\n\nfunction focusButton(data, event) {\n  event.refs.button && event.refs.button.focus();\n}\n\nfunction listboxIsNotDisabled(data, event) {\n  return !event.disabled;\n}\n\nfunction optionIsNavigable(data, event) {\n  if (event.type === ListboxEvents.OptionTouchStart) {\n    if (event && event.disabled) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction optionIsSelectable(data, event) {\n  if (\"disabled\" in event && event.disabled) {\n    return false;\n  }\n\n  if (\"value\" in event) {\n    return event.value != null;\n  }\n\n  return data.navigationValue != null;\n}\n\nfunction selectOption(data, event) {\n  event.callback && event.callback(event.value);\n}\n\nfunction submitForm(data, event) {\n  if (event.type !== ListboxEvents.KeyDownEnter) {\n    return;\n  } // So this one is a little weird, but here's what we're doing.\n  // When a user presses Enter in the context of a form, the form\n  // should submit. Now I know you're probably thinking:\n  //\n  //      \"Aha! I've got it!\"\n  //          > inputNode.form.submit()\n  //      ** cracks knuckles ** \"Phew. My work here is done.\"\n  //\n  // But alas, we are not so lucky. What's really happening when a\n  // user presses enter in a normal form field is that the browser\n  // looks at the form the input is in, then looks for the first\n  // button or input in that form where its type property is `submit`,\n  // then it triggers a click event on that button. COOL, CARRY ON.\n  //\n  // If we were to fire inputNode.form.submit(), this would bypass any\n  // onSubmit handler in the form and just do what the browser\n  // normally does when you submit a form and trigger a page refresh.\n  // No bueno. So we do what the browser does and just go on a duck\n  // hunt for the first submit button in the form and we click that\n  // sucker.\n\n\n  var hiddenInput = event.refs.hiddenInput;\n\n  if (hiddenInput && hiddenInput.form) {\n    var submitButton = hiddenInput.form.querySelector(\"button,[type='submit']\");\n    submitButton && submitButton.click();\n  }\n}\n\nvar setTypeahead = /*#__PURE__*/assign({\n  typeaheadQuery: function typeaheadQuery(data, event) {\n    return (data.typeaheadQuery || \"\") + event.query;\n  }\n});\nvar setValueFromTypeahead = /*#__PURE__*/assign({\n  value: function value(data, event) {\n    if (event.type === ListboxEvents.UpdateAfterTypeahead && event.query) {\n      var match = findOptionFromTypeahead(data.options, event.query);\n\n      if (match && !match.disabled) {\n        event.callback && event.callback(match.value);\n        return match.value;\n      }\n    }\n\n    return data.value;\n  }\n});\nvar setNavSelectionFromTypeahead = /*#__PURE__*/assign({\n  navigationValue: function navigationValue(data, event) {\n    if (event.type === ListboxEvents.UpdateAfterTypeahead && event.query) {\n      var match = findOptionFromTypeahead(data.options, event.query);\n\n      if (match && !match.disabled) {\n        return match.value;\n      }\n    }\n\n    return data.navigationValue;\n  }\n});\nvar commonEvents = (_commonEvents = {}, _commonEvents[ListboxEvents.GetDerivedData] = {\n  actions: /*#__PURE__*/assign(function (ctx, event) {\n    return _extends({}, ctx, event.data);\n  })\n}, _commonEvents[ListboxEvents.ValueChange] = {\n  actions: [assignValue, selectOption]\n}, _commonEvents); ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Initializer for our state machine.\n *\n * @param initial\n * @param props\n */\n\nvar createMachineDefinition = function createMachineDefinition(_ref) {\n  var _extends2, _extends3, _extends4, _extends5, _extends6, _states;\n\n  var value = _ref.value;\n  return {\n    id: \"listbox\",\n    initial: ListboxStates.Idle,\n    context: {\n      value: value,\n      options: [],\n      navigationValue: null,\n      typeaheadQuery: null\n    },\n    states: (_states = {}, _states[ListboxStates.Idle] = {\n      on: _extends({}, commonEvents, (_extends2 = {}, _extends2[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Open,\n        actions: [navigateFromCurrentValue],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Idle,\n        actions: setTypeahead,\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.UpdateAfterTypeahead] = {\n        target: ListboxStates.Idle,\n        actions: [setValueFromTypeahead],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.ClearTypeahead] = {\n        target: ListboxStates.Idle,\n        actions: clearTypeahead\n      }, _extends2[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, clearTypeahead, focusList],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.KeyDownEnter] = {\n        actions: [submitForm],\n        cond: listboxIsNotDisabled\n      }, _extends2))\n    }, _states[ListboxStates.Interacting] = {\n      entry: [clearNavigationValue],\n      on: _extends({}, commonEvents, (_extends3 = {}, _extends3[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue, focusList]\n      }, _extends3[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends3[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends3[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        // When the user triggers a mouseDown event on the button, we call\n        // event.preventDefault() because the browser will naturally send a\n        // mouseup event and click, which will reopen the button (which we\n        // don't want). As such, the click won't blur the open list or\n        // re-focus the trigger, so we call `focusButton` to do that manually.\n        // We could work around this with deferred transitions with xstate,\n        // but @xstate/fsm currently doesn't support that feature and this\n        // works good enough for the moment.\n        actions: [focusButton]\n      }, _extends3[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends3[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends3[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Dragging,\n        actions: clearTypeahead,\n        cond: optionIsActive\n      }], _extends3[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends3[ListboxEvents.KeyDownEnter] = ListboxStates.Interacting, _extends3[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends3[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends3[ListboxEvents.OptionClick] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends3[ListboxEvents.OptionPress] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends3[ListboxEvents.OptionMouseEnter] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends3[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends3))\n    }, _states[ListboxStates.Open] = {\n      on: _extends({}, commonEvents, (_extends4 = {}, _extends4[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue]\n      }, _extends4[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends4[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends4[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends4[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends4[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends4[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Dragging,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends4[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends4[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends4[ListboxEvents.ButtonMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends4[ListboxEvents.ListMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends4[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends4[ListboxEvents.OptionClick] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends4[ListboxEvents.OptionPress] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends4[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends4[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Navigating,\n        actions: setTypeahead\n      }, _extends4[ListboxEvents.UpdateAfterTypeahead] = {\n        actions: [setNavSelectionFromTypeahead]\n      }, _extends4[ListboxEvents.ClearTypeahead] = {\n        actions: clearTypeahead\n      }, _extends4[ListboxEvents.OptionMouseMove] = [{\n        target: ListboxStates.Dragging,\n        actions: [navigate],\n        cond: optionIsNavigable\n      }, {\n        target: ListboxStates.Dragging\n      }], _extends4))\n    }, _states[ListboxStates.Dragging] = {\n      on: _extends({}, commonEvents, (_extends5 = {}, _extends5[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue]\n      }, _extends5[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends5[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends5[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends5[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends5[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive,\n        actions: focusList\n      }, {\n        target: ListboxStates.Interacting,\n        actions: [clearTypeahead, focusList]\n      }], _extends5[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends5[ListboxEvents.ButtonMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends5[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends5[ListboxEvents.OptionClick] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5[ListboxEvents.OptionPress] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5[ListboxEvents.OptionMouseEnter] = {\n        target: ListboxStates.Dragging,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends5[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends5[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Navigating,\n        actions: setTypeahead\n      }, _extends5[ListboxEvents.UpdateAfterTypeahead] = {\n        actions: [setNavSelectionFromTypeahead]\n      }, _extends5[ListboxEvents.ClearTypeahead] = {\n        actions: clearTypeahead\n      }, _extends5[ListboxEvents.OptionMouseMove] = [{\n        target: ListboxStates.Navigating,\n        actions: [navigate],\n        cond: optionIsNavigable\n      }, {\n        target: ListboxStates.Navigating\n      }], _extends5[ListboxEvents.OptionMouseUp] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5))\n    }, _states[ListboxStates.Navigating] = {\n      on: _extends({}, commonEvents, (_extends6 = {}, _extends6[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue, focusList]\n      }, _extends6[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends6[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends6[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends6[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends6[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends6[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends6[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends6[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends6[ListboxEvents.ButtonMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends6[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends6[ListboxEvents.OptionClick] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends6[ListboxEvents.OptionPress] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends6[ListboxEvents.OptionMouseEnter] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends6[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends6[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Navigating,\n        actions: setTypeahead\n      }, _extends6[ListboxEvents.UpdateAfterTypeahead] = {\n        actions: [setNavSelectionFromTypeahead]\n      }, _extends6[ListboxEvents.ClearTypeahead] = {\n        actions: clearTypeahead\n      }, _extends6[ListboxEvents.OptionMouseMove] = [{\n        target: ListboxStates.Navigating,\n        actions: [navigate],\n        cond: optionIsNavigable\n      }, {\n        target: ListboxStates.Navigating\n      }], _extends6))\n    }, _states)\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction findOptionFromTypeahead(options, string) {\n  if (string === void 0) {\n    string = \"\";\n  }\n\n  if (!string) return null;\n  var found = options.find(function (option) {\n    return !option.disabled && option.label && option.label.toLowerCase().startsWith(string.toLowerCase());\n  });\n  return found || null;\n}\n\nfunction findOptionFromValue(value, options) {\n  return value ? options.find(function (option) {\n    return option.value === value;\n  }) : undefined;\n} ////////////////////////////////////////////////////////////////////////////////\n// Types\n\n/**\n * Shared partial interface for all of our event objects.\n */\n\n\nvar _excluded = [\"as\", \"aria-labelledby\", \"aria-label\", \"children\", \"defaultValue\", \"disabled\", \"form\", \"name\", \"onChange\", \"required\", \"value\", \"__componentName\"],\n    _excluded2 = [\"arrow\", \"button\", \"children\", \"portal\"],\n    _excluded3 = [\"aria-label\", \"arrow\", \"as\", \"children\", \"onKeyDown\", \"onMouseDown\", \"onMouseUp\"],\n    _excluded4 = [\"as\", \"children\"],\n    _excluded5 = [\"as\", \"position\", \"onBlur\", \"onKeyDown\", \"onMouseUp\", \"portal\", \"unstable_observableRefs\"],\n    _excluded6 = [\"as\"],\n    _excluded7 = [\"as\", \"children\", \"disabled\", \"index\", \"label\", \"onClick\", \"onMouseDown\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseMove\", \"onMouseUp\", \"onTouchStart\", \"value\"],\n    _excluded8 = [\"as\", \"label\", \"children\"],\n    _excluded9 = [\"as\"];\nvar DEBUG = false; ////////////////////////////////////////////////////////////////////////////////\n// ListboxContext\n\nvar ListboxDescendantContext = /*#__PURE__*/createDescendantContext(\"ListboxDescendantContext\");\nvar ListboxContext = /*#__PURE__*/createNamedContext(\"ListboxContext\", {});\nvar ListboxGroupContext = /*#__PURE__*/createNamedContext(\"ListboxGroupContext\", {}); ////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxInput\n *\n * The top-level component and context provider for the listbox.\n *\n * @see Docs https://reach.tech/listbox#listboxinput\n */\n\nvar ListboxInput = /*#__PURE__*/forwardRef(function ListboxInput(_ref, forwardedRef) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"div\" : _ref$as,\n      ariaLabelledBy = _ref[\"aria-labelledby\"],\n      ariaLabel = _ref[\"aria-label\"],\n      children = _ref.children,\n      defaultValue = _ref.defaultValue,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      form = _ref.form,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      required = _ref.required,\n      valueProp = _ref.value,\n      _ref$__componentName = _ref.__componentName,\n      __componentName = _ref$__componentName === void 0 ? \"ListboxInput\" : _ref$__componentName,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var isControlled = useRef(valueProp != null);\n\n  var _useDescendantsInit = useDescendantsInit(),\n      options = _useDescendantsInit[0],\n      setOptions = _useDescendantsInit[1]; // DOM refs\n\n\n  var buttonRef = useRef(null);\n  var hiddenInputRef = useRef(null);\n  var highlightedOptionRef = useRef(null);\n  var inputRef = useRef(null);\n  var listRef = useRef(null);\n  var popoverRef = useRef(null);\n  var selectedOptionRef = useRef(null);\n  var machine = useCreateMachine(createMachineDefinition({\n    // The initial value of our machine should come from the `value` or\n    // `defaultValue` props if they exist.\n    value: (isControlled.current ? valueProp : defaultValue) || null\n  }));\n\n  var _useMachine = useMachine(machine, {\n    button: buttonRef,\n    hiddenInput: hiddenInputRef,\n    highlightedOption: highlightedOptionRef,\n    input: inputRef,\n    list: listRef,\n    popover: popoverRef,\n    selectedOption: selectedOptionRef\n  }, DEBUG),\n      state = _useMachine[0],\n      send = _useMachine[1];\n\n  function handleValueChange(newValue) {\n    if (newValue !== state.context.value) {\n      onChange == null ? void 0 : onChange(newValue);\n    }\n  } // IDs for aria attributes\n\n\n  var _id = useId(props.id);\n\n  var id = props.id || makeId(\"listbox-input\", _id);\n  var ref = useComposedRefs(inputRef, forwardedRef); // If the button has children, we just render them as the label.\n  // Otherwise we'll find the option with a value that matches the listbox value\n  // and use its label in the button. We'll get that here and send it to the\n  // button via context.\n  // If a user needs the label for SSR to prevent hydration mismatch issues,\n  // they need to control the state of the component and pass a label directly\n  // to the button.\n\n  var valueLabel = useMemo(function () {\n    var selected = options.find(function (option) {\n      return option.value === state.context.value;\n    });\n    return selected ? selected.label : null;\n  }, [options, state.context.value]);\n  var isExpanded = isListboxExpanded(state.value);\n  var context = {\n    ariaLabel: ariaLabel,\n    ariaLabelledBy: ariaLabelledBy,\n    buttonRef: buttonRef,\n    disabled: disabled,\n    highlightedOptionRef: highlightedOptionRef,\n    isExpanded: isExpanded,\n    listboxId: id,\n    listboxValueLabel: valueLabel,\n    listRef: listRef,\n    onValueChange: handleValueChange,\n    popoverRef: popoverRef,\n    selectedOptionRef: selectedOptionRef,\n    send: send,\n    state: state.value,\n    stateData: state.context\n  }; // For uncontrolled listbox components where no `defaultValue` is provided, we\n  // will update the value based on the value of the first selectable option.\n  // We call the update directly because:\n  //   A) we only ever need to do this once, so we can guard with a ref\n  //   B) useLayoutEffect races useDecendant, so we might not have options yet\n  //   C) useEffect will cause a flash\n\n  var mounted = useRef(false);\n\n  if (!isControlled.current && // the app is not controlling state\n  defaultValue == null && // there is no default value\n  !mounted.current && // we haven't done this already\n  options.length // we have some options\n  ) {\n    mounted.current = true;\n    var first = options.find(function (option) {\n      return !option.disabled;\n    });\n\n    if (first && first.value) {\n      send({\n        type: ListboxEvents.ValueChange,\n        value: first.value\n      });\n    }\n  }\n\n  useControlledSwitchWarning(valueProp, \"value\", __componentName); // Even if the app controls state, we still need to update it internally to\n  // run the state machine transitions\n\n  useControlledStateSync(valueProp, state.context.value, function () {\n    send({\n      type: ListboxEvents.ValueChange,\n      value: valueProp\n    });\n  });\n  useIsomorphicLayoutEffect(function () {\n    send({\n      type: ListboxEvents.GetDerivedData,\n      data: {\n        options: options\n      }\n    });\n  }, [options, send]);\n  useEffect(function () {\n    function handleMouseDown(event) {\n      var target = event.target,\n          relatedTarget = event.relatedTarget;\n\n      if (!popoverContainsEventTarget(popoverRef.current, target)) {\n        send({\n          type: ListboxEvents.OutsideMouseDown,\n          relatedTarget: relatedTarget || target\n        });\n      }\n    }\n\n    if (isExpanded) {\n      window.addEventListener(\"mousedown\", handleMouseDown);\n    }\n\n    return function () {\n      window.removeEventListener(\"mousedown\", handleMouseDown);\n    };\n  }, [send, isExpanded]);\n  useEffect(function () {\n    function handleMouseUp(event) {\n      var target = event.target,\n          relatedTarget = event.relatedTarget;\n\n      if (!popoverContainsEventTarget(popoverRef.current, target)) {\n        send({\n          type: ListboxEvents.OutsideMouseUp,\n          relatedTarget: relatedTarget || target\n        });\n      }\n    }\n\n    if (isExpanded) {\n      window.addEventListener(\"mouseup\", handleMouseUp);\n    }\n\n    return function () {\n      window.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [send, isExpanded]);\n  useCheckStyles(\"listbox\");\n  return /*#__PURE__*/createElement(Comp, _extends({}, props, {\n    ref: ref,\n    \"data-reach-listbox-input\": \"\",\n    \"data-state\": isExpanded ? \"expanded\" : \"closed\",\n    \"data-value\": state.context.value,\n    id: id\n  }), /*#__PURE__*/createElement(ListboxContext.Provider, {\n    value: context\n  }, /*#__PURE__*/createElement(DescendantProvider, {\n    context: ListboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, isFunction(children) ? children({\n    id: id,\n    isExpanded: isExpanded,\n    value: state.context.value,\n    selectedOptionRef: selectedOptionRef,\n    highlightedOptionRef: highlightedOptionRef,\n    valueLabel: valueLabel,\n    // TODO: Remove in 1.0\n    expanded: isExpanded\n  }) : children, (form || name || required) && /*#__PURE__*/createElement(\"input\", {\n    ref: hiddenInputRef,\n    \"data-reach-listbox-hidden-input\": \"\",\n    disabled: disabled,\n    form: form,\n    name: name,\n    readOnly: true,\n    required: required,\n    tabIndex: -1,\n    type: \"hidden\",\n    value: state.context.value || \"\"\n  }))));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxInput.displayName = \"ListboxInput\";\n  ListboxInput.propTypes = {\n    children: /*#__PURE__*/PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    defaultValue: PropTypes.string,\n    disabled: PropTypes.bool,\n    form: PropTypes.string,\n    name: PropTypes.string,\n    onChange: PropTypes.func,\n    required: PropTypes.bool,\n    value: PropTypes.string\n  };\n}\n/**\n * @see Docs https://reach.tech/listbox#listboxinput-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Listbox\n *\n * High-level listbox API\n *\n * @example\n * <Listbox>\n *   <ListboxOption value=\"1\">Option 1</ListboxOption>\n *   <ListboxOption value=\"2\">Option 2</ListboxOption>\n *   <ListboxOption value=\"3\">Option 3</ListboxOption>\n * </Listbox>\n *\n * @see Docs https://reach.tech/listbox#listbox-1\n */\n\n\nvar Listbox = /*#__PURE__*/forwardRef(function Listbox(_ref2, forwardedRef) {\n  var _ref2$arrow = _ref2.arrow,\n      arrow = _ref2$arrow === void 0 ? \"\" : _ref2$arrow,\n      button = _ref2.button,\n      children = _ref2.children,\n      _ref2$portal = _ref2.portal,\n      portal = _ref2$portal === void 0 ? true : _ref2$portal,\n      props = _objectWithoutPropertiesLoose(_ref2, _excluded2);\n\n  return /*#__PURE__*/createElement(ListboxInput, _extends({}, props, {\n    __componentName: \"Listbox\",\n    ref: forwardedRef\n  }), function (_ref3) {\n    var value = _ref3.value,\n        valueLabel = _ref3.valueLabel;\n    return /*#__PURE__*/createElement(Fragment, null, /*#__PURE__*/createElement(ListboxButton, {\n      arrow: arrow,\n      children: button ? isFunction(button) ? button({\n        value: value,\n        label: valueLabel\n      }) : button : undefined\n    }), /*#__PURE__*/createElement(ListboxPopover, {\n      portal: portal\n    }, /*#__PURE__*/createElement(ListboxList, null, children)));\n  });\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Listbox.displayName = \"Listbox\";\n  Listbox.propTypes = /*#__PURE__*/_extends({}, ListboxInput.propTypes, {\n    arrow: /*#__PURE__*/PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n    button: /*#__PURE__*/PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    children: PropTypes.node\n  });\n}\n/**\n * @see Docs https://reach.tech/listbox#listbox-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxButton\n *\n * The interactive toggle button that triggers the popover for the listbox.\n *\n * @see Docs https://reach.tech/listbox#listbox-button\n */\n\n\nvar ListboxButtonImpl = /*#__PURE__*/forwardRef(function ListboxButton(_ref4, forwardedRef) {\n  var ariaLabel = _ref4[\"aria-label\"],\n      _ref4$arrow = _ref4.arrow,\n      arrow = _ref4$arrow === void 0 ? false : _ref4$arrow,\n      _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"span\" : _ref4$as,\n      children = _ref4.children,\n      onKeyDown = _ref4.onKeyDown,\n      onMouseDown = _ref4.onMouseDown,\n      onMouseUp = _ref4.onMouseUp,\n      props = _objectWithoutPropertiesLoose(_ref4, _excluded3);\n\n  var _React$useContext = useContext(ListboxContext),\n      buttonRef = _React$useContext.buttonRef,\n      send = _React$useContext.send,\n      ariaLabelledBy = _React$useContext.ariaLabelledBy,\n      disabled = _React$useContext.disabled,\n      isExpanded = _React$useContext.isExpanded,\n      listboxId = _React$useContext.listboxId,\n      stateData = _React$useContext.stateData,\n      listboxValueLabel = _React$useContext.listboxValueLabel;\n\n  var listboxValue = stateData.value;\n  var ref = useComposedRefs(buttonRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  function handleMouseDown(event) {\n    if (!isRightClick(event.nativeEvent)) {\n      event.preventDefault();\n      event.stopPropagation();\n      send({\n        type: ListboxEvents.ButtonMouseDown,\n        disabled: disabled\n      });\n    }\n  }\n\n  function handleMouseUp(event) {\n    if (!isRightClick(event.nativeEvent)) {\n      event.preventDefault();\n      event.stopPropagation();\n      send({\n        type: ListboxEvents.ButtonMouseUp\n      });\n    }\n  }\n\n  var id = makeId(\"button\", listboxId); // If the button has children, we just render them as the label\n  // If a user needs the label on the server to prevent hydration mismatch\n  // errors, they need to control the state of the component and pass a label\n  // directly to the button.\n\n  var label = useMemo(function () {\n    if (!children) {\n      return listboxValueLabel;\n    } else if (isFunction(children)) {\n      return children({\n        isExpanded: isExpanded,\n        label: listboxValueLabel,\n        value: listboxValue,\n        // TODO: Remove in 1.0\n        expanded: isExpanded\n      });\n    }\n\n    return children;\n  }, [children, listboxValueLabel, isExpanded, listboxValue]);\n  return /*#__PURE__*/createElement(Comp // Applicable to all host language elements regardless of whether a\n  // `role` is applied.\n  // https://www.w3.org/WAI/PF/aria/states_and_properties#global_states_header\n  , _extends({\n    \"aria-disabled\": disabled || undefined // Set by the JavaScript when the listbox is displayed. Otherwise, is\n    // not present.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-collapsible.html\n    ,\n    \"aria-expanded\": isExpanded || undefined // Indicates that activating the button displays a listbox.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-collapsible.html\n    ,\n    \"aria-haspopup\": \"listbox\" // References the two elements whose labels are concatenated by the\n    // browser to label the button. The first element is a span containing\n    // perceivable label for the listbox component. The second element is\n    // the button itself; the button text is set to the name of the\n    // currently chosen element.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-collapsible.html\n    // If an `aria-label` is passed, we should skip `aria-labelledby` to\n    // avoid confusion.\n    ,\n    \"aria-labelledby\": ariaLabel ? undefined : [ariaLabelledBy, id].filter(Boolean).join(\" \"),\n    \"aria-label\": ariaLabel // Identifies the element as a button widget.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/button/button.html\n    ,\n    role: \"button\" // Includes the element in the tab sequence.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/button/button.html\n    ,\n    tabIndex: disabled ? -1 : 0\n  }, props, {\n    ref: ref,\n    \"data-reach-listbox-button\": \"\",\n    id: id,\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onMouseDown: composeEventHandlers(onMouseDown, handleMouseDown),\n    onMouseUp: composeEventHandlers(onMouseUp, handleMouseUp)\n  }), label, arrow && /*#__PURE__*/createElement(ListboxArrow, null, isBoolean(arrow) ? null : arrow));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxButtonImpl.displayName = \"ListboxButton\";\n  ListboxButtonImpl.propTypes = {\n    arrow: /*#__PURE__*/PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n    children: /*#__PURE__*/PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n  };\n}\n\nvar ListboxButton = /*#__PURE__*/memo(ListboxButtonImpl);\n/**\n * @see Docs https://reach.tech/listbox#listboxbutton-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxArrow\n *\n * A wrapper component for an arrow to display in the `ListboxButton`\n *\n * @see Docs https://reach.tech/listbox#listboxarrow\n */\n\nvar ListboxArrowImpl = /*#__PURE__*/forwardRef(function ListboxArrow(_ref5, forwardedRef) {\n  var _ref5$as = _ref5.as,\n      Comp = _ref5$as === void 0 ? \"span\" : _ref5$as,\n      children = _ref5.children,\n      props = _objectWithoutPropertiesLoose(_ref5, _excluded4);\n\n  var _React$useContext2 = useContext(ListboxContext),\n      isExpanded = _React$useContext2.isExpanded;\n\n  return /*#__PURE__*/createElement(Comp // The arrow provides no semantic value and its inner content should be\n  // hidden from the accessibility tree\n  , _extends({\n    \"aria-hidden\": true\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-listbox-arrow\": \"\",\n    \"data-expanded\": isExpanded ? \"\" : undefined\n  }), isFunction(children) ? children({\n    isExpanded: isExpanded,\n    // TODO: Remove in 1.0\n    expanded: isExpanded\n  }) : children || \"\");\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxArrowImpl.displayName = \"ListboxArrow\";\n  ListboxArrowImpl.propTypes = {\n    children: /*#__PURE__*/PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n  };\n}\n\nvar ListboxArrow = /*#__PURE__*/memo(ListboxArrowImpl);\n/**\n * @see Docs https://reach.tech/listbox#listboxarrow-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxPopover\n *\n * The popover containing the list of options.\n *\n * @see Docs https://reach.tech/listbox#listboxpopover\n */\n\nvar ListboxPopoverImpl = /*#__PURE__*/forwardRef(function ListboxPopover(_ref6, forwardedRef) {\n  var _ref6$as = _ref6.as,\n      Comp = _ref6$as === void 0 ? \"div\" : _ref6$as,\n      _ref6$position = _ref6.position,\n      position = _ref6$position === void 0 ? positionMatchWidth : _ref6$position,\n      onBlur = _ref6.onBlur,\n      onKeyDown = _ref6.onKeyDown,\n      onMouseUp = _ref6.onMouseUp,\n      _ref6$portal = _ref6.portal,\n      portal = _ref6$portal === void 0 ? true : _ref6$portal,\n      unstable_observableRefs = _ref6.unstable_observableRefs,\n      props = _objectWithoutPropertiesLoose(_ref6, _excluded5);\n\n  var _React$useContext3 = useContext(ListboxContext),\n      isExpanded = _React$useContext3.isExpanded,\n      buttonRef = _React$useContext3.buttonRef,\n      popoverRef = _React$useContext3.popoverRef,\n      send = _React$useContext3.send;\n\n  var ref = useComposedRefs(popoverRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  function handleMouseUp() {\n    send({\n      type: ListboxEvents.ListMouseUp\n    });\n  }\n\n  var commonProps = _extends({\n    hidden: !isExpanded,\n    tabIndex: -1\n  }, props, {\n    ref: ref,\n    \"data-reach-listbox-popover\": \"\",\n    onMouseUp: composeEventHandlers(onMouseUp, handleMouseUp),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  });\n\n  function handleBlur(event) {\n    var nativeEvent = event.nativeEvent;\n    requestAnimationFrame(function () {\n      send({\n        type: ListboxEvents.Blur,\n        relatedTarget: nativeEvent.relatedTarget || nativeEvent.target\n      });\n    });\n  }\n\n  return portal ? /*#__PURE__*/createElement(Popover, _extends({}, commonProps, {\n    as: Comp,\n    targetRef: buttonRef,\n    position: position,\n    unstable_observableRefs: unstable_observableRefs\n  })) : /*#__PURE__*/createElement(Comp, commonProps);\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxPopoverImpl.displayName = \"ListboxPopover\";\n  ListboxPopoverImpl.propTypes = {\n    children: PropTypes.node.isRequired,\n    portal: PropTypes.bool,\n    position: PropTypes.func\n  };\n}\n\nvar ListboxPopover = /*#__PURE__*/memo(ListboxPopoverImpl);\n/**\n * @see Docs https://reach.tech/listbox#listboxpopover-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxList\n *\n * The list containing all listbox options.\n *\n * @see Docs https://reach.tech/listbox#listboxlist\n */\n\nvar ListboxList = /*#__PURE__*/forwardRef(function ListboxList(_ref7, forwardedRef) {\n  var _ref7$as = _ref7.as,\n      Comp = _ref7$as === void 0 ? \"ul\" : _ref7$as,\n      props = _objectWithoutPropertiesLoose(_ref7, _excluded6);\n\n  var _React$useContext4 = useContext(ListboxContext),\n      listRef = _React$useContext4.listRef,\n      ariaLabel = _React$useContext4.ariaLabel,\n      ariaLabelledBy = _React$useContext4.ariaLabelledBy,\n      isExpanded = _React$useContext4.isExpanded,\n      listboxId = _React$useContext4.listboxId,\n      _React$useContext4$st = _React$useContext4.stateData,\n      value = _React$useContext4$st.value,\n      navigationValue = _React$useContext4$st.navigationValue;\n\n  var ref = useComposedRefs(forwardedRef, listRef);\n  return /*#__PURE__*/createElement(Comp // Tells assistive technologies which of the options, if any, is\n  // visually indicated as having keyboard focus. DOM focus remains on the\n  // `ul` element and the idref specified for `aria-activedescendant`\n  // refers to the `li` element that is visually styled as focused. When\n  // navigation keys, such as `Down Arrow`, are pressed, the JavaScript\n  // changes the value.\n  // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n  , _extends({\n    \"aria-activedescendant\": useOptionId(isExpanded ? navigationValue : value) // If the listbox is not part of another widget, then it has a visible\n    // label referenced by `aria-labelledby` on the element with role\n    // `listbox`.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n    // If an `aria-label` is passed, we should skip `aria-labelledby` to\n    // avoid confusion.\n    ,\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledBy,\n    \"aria-label\": ariaLabel // An element that contains or owns all the listbox options has role\n    // listbox.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n    ,\n    role: \"listbox\" // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-collapsible.html\n    ,\n    tabIndex: -1\n  }, props, {\n    ref: ref,\n    \"data-reach-listbox-list\": \"\",\n    id: makeId(\"listbox\", listboxId)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxList.displayName = \"ListboxList\";\n  ListboxList.propTypes = {};\n}\n/**\n * @see Docs https://reach.tech/listbox#listboxlist-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxOption\n *\n * A selectable option for the listbox.\n *\n * @see Docs https://reach.tech/listbox#listboxoption\n */\n\n\nvar ListboxOption = /*#__PURE__*/forwardRef(function ListboxOption(_ref8, forwardedRef) {\n  var _ref8$as = _ref8.as,\n      Comp = _ref8$as === void 0 ? \"li\" : _ref8$as,\n      children = _ref8.children,\n      disabled = _ref8.disabled,\n      indexProp = _ref8.index,\n      labelProp = _ref8.label,\n      onClick = _ref8.onClick,\n      onMouseDown = _ref8.onMouseDown,\n      onMouseEnter = _ref8.onMouseEnter,\n      onMouseLeave = _ref8.onMouseLeave,\n      onMouseMove = _ref8.onMouseMove,\n      onMouseUp = _ref8.onMouseUp,\n      onTouchStart = _ref8.onTouchStart,\n      value = _ref8.value,\n      props = _objectWithoutPropertiesLoose(_ref8, _excluded7);\n\n  if (process.env.NODE_ENV !== \"production\" && !value) {\n    throw Error(\"A ListboxOption must have a value prop.\");\n  }\n\n  var _React$useContext5 = useContext(ListboxContext),\n      highlightedOptionRef = _React$useContext5.highlightedOptionRef,\n      selectedOptionRef = _React$useContext5.selectedOptionRef,\n      send = _React$useContext5.send,\n      isExpanded = _React$useContext5.isExpanded,\n      onValueChange = _React$useContext5.onValueChange,\n      state = _React$useContext5.state,\n      _React$useContext5$st = _React$useContext5.stateData,\n      listboxValue = _React$useContext5$st.value,\n      navigationValue = _React$useContext5$st.navigationValue;\n\n  var _React$useState = useState(labelProp),\n      labelState = _React$useState[0],\n      setLabel = _React$useState[1];\n\n  var label = labelProp || labelState || \"\";\n  var ownRef = useRef(null);\n\n  var _useStatefulRefValue = useStatefulRefValue(ownRef, null),\n      element = _useStatefulRefValue[0],\n      handleRefSet = _useStatefulRefValue[1];\n\n  var descendant = useMemo(function () {\n    return {\n      element: element,\n      value: value,\n      label: label,\n      disabled: !!disabled\n    };\n  }, [disabled, element, label, value]);\n  useDescendant(descendant, ListboxDescendantContext, indexProp); // After the ref is mounted to the DOM node, we check to see if we have an\n  // explicit label prop before looking for the node's textContent for\n  // typeahead functionality.\n\n  var getLabelFromDomNode = useCallback(function (node) {\n    if (!labelProp && node) {\n      setLabel(function (prevState) {\n        if (node.textContent && prevState !== node.textContent) {\n          return node.textContent;\n        }\n\n        return prevState || \"\";\n      });\n    }\n  }, [labelProp]);\n  var isHighlighted = navigationValue ? navigationValue === value : false;\n  var isSelected = listboxValue === value;\n  var ref = useComposedRefs(getLabelFromDomNode, forwardedRef, handleRefSet, isSelected ? selectedOptionRef : null, isHighlighted ? highlightedOptionRef : null);\n\n  function handleMouseEnter() {\n    send({\n      type: ListboxEvents.OptionMouseEnter,\n      value: value,\n      disabled: !!disabled\n    });\n  }\n\n  function handleTouchStart() {\n    send({\n      type: ListboxEvents.OptionTouchStart,\n      value: value,\n      disabled: !!disabled\n    });\n  }\n\n  function handleMouseLeave() {\n    send({\n      type: ListboxEvents.ClearNavSelection\n    });\n  }\n\n  function handleMouseDown(event) {\n    // Prevent blur event from firing and bubbling to the popover\n    if (!isRightClick(event.nativeEvent)) {\n      event.preventDefault();\n      send({\n        type: ListboxEvents.OptionMouseDown\n      });\n    }\n  }\n\n  function handleMouseUp(event) {\n    if (!isRightClick(event.nativeEvent)) {\n      send({\n        type: ListboxEvents.OptionMouseUp,\n        value: value,\n        callback: onValueChange,\n        disabled: !!disabled\n      });\n    }\n  }\n\n  function handleClick(event) {\n    // Generally an option will be selected on mouseup, but in case this isn't\n    // handled correctly by the device (whether because it's a touch/pen or\n    // virtual click event) we want to handle selection on a full click event\n    // just in case. This should address issues with screenreader selection,\n    // but this needs more robust testing.\n    if (!isRightClick(event.nativeEvent)) {\n      send({\n        type: ListboxEvents.OptionClick,\n        value: value,\n        callback: onValueChange,\n        disabled: !!disabled\n      });\n    }\n  }\n\n  function handleMouseMove() {\n    // We don't really *need* these guards since we put all of our transition\n    // logic in the state machine, but in this case it seems wise not to\n    // needlessly run our transitions every time the user's mouse moves. Seems\n    // like a lot. \n    if (state === ListboxStates.Open || navigationValue !== value) {\n      send({\n        type: ListboxEvents.OptionMouseMove,\n        value: value,\n        disabled: !!disabled\n      });\n    }\n  }\n\n  return /*#__PURE__*/createElement(Comp // In a single-select listbox, the selected option has `aria-selected`\n  // set to `true`.\n  // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n  , _extends({\n    \"aria-selected\": (isExpanded ? isHighlighted : isSelected) || undefined // Applicable to all host language elements regardless of whether a\n    // `role` is applied.\n    // https://www.w3.org/WAI/PF/aria/states_and_properties#global_states_header\n    ,\n    \"aria-disabled\": disabled || undefined // Each option in the listbox has role `option` and is a DOM descendant\n    // of the element with role `listbox`.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n    ,\n    role: \"option\"\n  }, props, {\n    ref: ref,\n    id: useOptionId(value),\n    \"data-reach-listbox-option\": \"\",\n    \"data-current-nav\": isHighlighted ? \"\" : undefined,\n    \"data-current-selected\": isSelected ? \"\" : undefined,\n    \"data-label\": label,\n    \"data-value\": value,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onMouseDown: composeEventHandlers(onMouseDown, handleMouseDown),\n    onMouseEnter: composeEventHandlers(onMouseEnter, handleMouseEnter),\n    onMouseLeave: composeEventHandlers(onMouseLeave, handleMouseLeave),\n    onMouseMove: composeEventHandlers(onMouseMove, handleMouseMove),\n    onMouseUp: composeEventHandlers(onMouseUp, handleMouseUp),\n    onTouchStart: composeEventHandlers(onTouchStart, handleTouchStart)\n  }), children);\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxOption.displayName = \"ListboxOption\";\n  ListboxOption.propTypes = {\n    disabled: PropTypes.bool,\n    label: PropTypes.string,\n    value: PropTypes.string.isRequired\n  };\n}\n/**\n * @see Docs https://reach.tech/listbox#listboxoption-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxGroup\n *\n * A group of related listbox options.\n *\n * @see Docs https://reach.tech/listbox#listboxgroup\n */\n\n\nvar ListboxGroup = /*#__PURE__*/forwardRef(function ListboxGroup(_ref9, forwardedRef) {\n  var _ref9$as = _ref9.as,\n      Comp = _ref9$as === void 0 ? \"div\" : _ref9$as,\n      label = _ref9.label,\n      children = _ref9.children,\n      props = _objectWithoutPropertiesLoose(_ref9, _excluded8);\n\n  var _React$useContext6 = useContext(ListboxContext),\n      listboxId = _React$useContext6.listboxId;\n\n  var labelId = makeId(\"label\", useId(props.id), listboxId);\n  return /*#__PURE__*/createElement(ListboxGroupContext.Provider, {\n    value: {\n      labelId: labelId\n    }\n  }, /*#__PURE__*/createElement(Comp // Refers to the element containing the option group label\n  // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n  , _extends({\n    \"aria-labelledby\": labelId // Identifies a group of related options\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n    ,\n    role: \"group\"\n  }, props, {\n    \"data-reach-listbox-group\": \"\",\n    ref: forwardedRef\n  }), label && /*#__PURE__*/createElement(ListboxGroupLabel, null, label), children));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxGroup.displayName = \"ListboxGroup\";\n  ListboxGroup.propTypes = {\n    label: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n  };\n}\n/**\n * @see Docs https://reach.tech/listbox#listboxgroup-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * ListboxGroupLabel\n *\n * @see Docs https://reach.tech/listbox#listboxgrouplabel\n */\n\n\nvar ListboxGroupLabel = /*#__PURE__*/forwardRef(function ListboxGroupLabel(_ref10, forwardedRef) {\n  var _ref10$as = _ref10.as,\n      Comp = _ref10$as === void 0 ? \"span\" : _ref10$as,\n      props = _objectWithoutPropertiesLoose(_ref10, _excluded9);\n\n  var _React$useContext7 = useContext(ListboxGroupContext),\n      labelId = _React$useContext7.labelId;\n\n  return /*#__PURE__*/createElement(Comp // See examples\n  // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n  , _extends({\n    role: \"presentation\"\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-listbox-group-label\": \"\",\n    id: labelId\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxGroupLabel.displayName = \"ListboxGroupLabel\";\n  ListboxGroupLabel.propTypes = {};\n}\n/**\n * @see Docs https://reach.tech/listbox#listboxgroup-props\n */\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hook that exposes data for a given `Listbox` component to its descendants.\n *\n * @see Docs https://reach.tech/listbox#uselistboxcontext\n */\n\n\nfunction useListboxContext() {\n  var _React$useContext8 = useContext(ListboxContext),\n      highlightedOptionRef = _React$useContext8.highlightedOptionRef,\n      selectedOptionRef = _React$useContext8.selectedOptionRef,\n      listboxId = _React$useContext8.listboxId,\n      listboxValueLabel = _React$useContext8.listboxValueLabel,\n      isExpanded = _React$useContext8.isExpanded,\n      value = _React$useContext8.stateData.value;\n\n  return useMemo(function () {\n    return {\n      id: listboxId,\n      isExpanded: isExpanded,\n      selectedOptionRef: selectedOptionRef,\n      highlightedOptionRef: highlightedOptionRef,\n      value: value,\n      valueLabel: listboxValueLabel\n    };\n  }, [listboxId, isExpanded, value, listboxValueLabel, selectedOptionRef, highlightedOptionRef]);\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction isListboxExpanded(state) {\n  return [ListboxStates.Navigating, ListboxStates.Open, ListboxStates.Dragging, ListboxStates.Interacting].includes(state);\n}\n\nfunction useKeyDown() {\n  var _React$useContext9 = useContext(ListboxContext),\n      send = _React$useContext9.send,\n      listboxDisabled = _React$useContext9.disabled,\n      onValueChange = _React$useContext9.onValueChange,\n      _React$useContext9$st = _React$useContext9.stateData,\n      navigationValue = _React$useContext9$st.navigationValue,\n      typeaheadQuery = _React$useContext9$st.typeaheadQuery;\n\n  var options = useDescendants(ListboxDescendantContext);\n  var stableOnValueChange = useStableCallback(onValueChange);\n  useEffect(function () {\n    if (typeaheadQuery) {\n      send({\n        type: ListboxEvents.UpdateAfterTypeahead,\n        query: typeaheadQuery,\n        callback: stableOnValueChange\n      });\n    }\n\n    var timeout = window.setTimeout(function () {\n      if (typeaheadQuery != null) {\n        send({\n          type: ListboxEvents.ClearTypeahead\n        });\n      }\n    }, 1000);\n    return function () {\n      window.clearTimeout(timeout);\n    };\n  }, [stableOnValueChange, send, typeaheadQuery]);\n  var index = options.findIndex(function (_ref11) {\n    var value = _ref11.value;\n    return value === navigationValue;\n  });\n  var handleKeyDown = composeEventHandlers(function (event) {\n    var key = event.key;\n    var isSearching = isString(key) && key.length === 1;\n    var navOption = options.find(function (option) {\n      return option.value === navigationValue;\n    });\n\n    switch (key) {\n      case \"Enter\":\n        send({\n          type: ListboxEvents.KeyDownEnter,\n          value: navigationValue,\n          callback: onValueChange,\n          disabled: !!(navOption != null && navOption.disabled || listboxDisabled)\n        });\n        return;\n\n      case \" \":\n        // Prevent browser from scrolling down\n        event.preventDefault();\n        send({\n          type: ListboxEvents.KeyDownSpace,\n          value: navigationValue,\n          callback: onValueChange,\n          disabled: !!(navOption != null && navOption.disabled || listboxDisabled)\n        });\n        return;\n\n      case \"Escape\":\n        send({\n          type: ListboxEvents.KeyDownEscape\n        });\n        return;\n\n      case \"Tab\":\n        var eventType = event.shiftKey ? ListboxEvents.KeyDownShiftTab : ListboxEvents.KeyDownTab;\n        send({\n          type: eventType\n        });\n        return;\n\n      default:\n        if (isSearching) {\n          send({\n            type: ListboxEvents.KeyDownSearch,\n            query: key,\n            disabled: listboxDisabled\n          });\n        }\n\n        return;\n    }\n  }, useDescendantKeyDown(ListboxDescendantContext, {\n    currentIndex: index,\n    orientation: \"vertical\",\n    key: \"index\",\n    rotate: true,\n    filter: function filter(option) {\n      return !option.disabled;\n    },\n    callback: function callback(nextIndex) {\n      send({\n        type: ListboxEvents.KeyDownNavigate,\n        value: options[nextIndex].value,\n        disabled: listboxDisabled\n      });\n    }\n  }));\n  return handleKeyDown;\n}\n\nfunction useOptionId(value) {\n  var _React$useContext10 = useContext(ListboxContext),\n      listboxId = _React$useContext10.listboxId;\n\n  return value ? makeId(\"option-\" + value, listboxId) : undefined;\n}\n\nfunction popoverContainsEventTarget(popover, target) {\n  return !!(popover && popover.contains(target));\n} ////////////////////////////////////////////////////////////////////////////////\n// Types\n\n\nfunction useControlledStateSync(controlPropValue, internalValue, send) {\n  var _React$useRef = useRef(controlPropValue != null),\n      isControlled = _React$useRef.current;\n\n  if (isControlled && controlPropValue !== internalValue) {\n    send();\n  }\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nexport { Listbox, ListboxArrow, ListboxButton, ListboxGroup, ListboxGroupLabel, ListboxInput, ListboxList, ListboxOption, ListboxPopover, useListboxContext };","import _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { Component, forwardRef, useRef } from 'react';\nimport styled from 'styled-components';\nimport classnames from 'classnames';\nimport { ListboxInput, ListboxButton, ListboxPopover, useListboxContext, ListboxList } from '@reach/listbox';\nimport { positionMatchWidth } from '@reach/popover';\nimport { getConditionalAriaProp } from '../../../utils/aria/aria.js';\nimport { useEnhancedEffect } from '../../../utils/common/common.js';\nimport { getLogger } from '../../../utils/log/logger.js';\nimport { AutoId } from '../../utils/AutoId/AutoId.js';\nimport '../../../reset/HtmlA/HtmlA.js';\nimport '../../../reset/HtmlButton/HtmlButton.js';\nimport { HtmlDiv } from '../../../reset/HtmlDiv/HtmlDiv.js';\nimport '../../../reset/HtmlFieldSet/HtmlFieldSet.js';\nimport '../../../reset/HtmlH/HtmlH.js';\nimport '../../../reset/HtmlInput/HtmlInput.js';\nimport '../../../reset/HtmlLabel/HtmlLabel.js';\nimport '../../../reset/HtmlLegend/HtmlLegend.js';\nimport '../../../reset/HtmlLi/HtmlLi.js';\nimport '../../../reset/HtmlNav/HtmlNav.js';\nimport '../../../reset/HtmlOl/HtmlOl.js';\nimport { HtmlSpan } from '../../../reset/HtmlSpan/HtmlSpan.js';\nimport '../../../reset/HtmlTextarea/HtmlTextarea.js';\nimport '../../../reset/HtmlUl/HtmlUl.js';\nimport { Label } from '../../Form/Label/Label.js';\nimport { baseStyles } from './Dropdown.baseStyles.js';\nimport { SuomifiThemeConsumer } from '../../theme/SuomifiThemeProvider/SuomifiThemeProvider.js';\nimport '../../theme/SuomifiTheme/SuomifiTheme.js';\nvar _excluded = [\"id\", \"name\", \"disabled\", \"children\", \"labelText\", \"labelMode\", \"forwardedRef\", \"optionalText\", \"aria-labelledby\", \"visualPlaceholder\", \"alwaysShowVisualPlaceholder\", \"className\", \"dropdownButtonProps\", \"dropdownPopoverProps\", \"onChange\", \"tooltipComponent\"],\n    _excluded2 = [\"theme\"],\n    _excluded3 = [\"id\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar baseClassName = 'fi-dropdown';\nvar dropdownClassNames = {\n  baseClassName: baseClassName,\n  labelIsVisible: \"\".concat(baseClassName, \"_label--visible\"),\n  button: \"\".concat(baseClassName, \"_button\"),\n  popover: \"\".concat(baseClassName, \"_popover\"),\n  item: \"\".concat(baseClassName, \"_item\"),\n  noSelectedStyles: \"\".concat(baseClassName, \"--noSelectedStyles\"),\n  disabled: \"\".concat(baseClassName, \"--disabled\")\n};\n\nvar ListBoxContextWrapper = function ListBoxContextWrapper(props) {\n  var _useListboxContext = useListboxContext(),\n      highlightedOptionRef = _useListboxContext.highlightedOptionRef,\n      selectedOptionRef = _useListboxContext.selectedOptionRef,\n      isExpanded = _useListboxContext.isExpanded;\n\n  var scrollToHighlightedOptionRef = useRef(false);\n  useEnhancedEffect(function () {\n    if (scrollToHighlightedOptionRef.current) {\n      scrollItemList();\n      scrollToHighlightedOptionRef.current = false;\n    }\n  });\n  useEnhancedEffect(function () {\n    if (isExpanded) {\n      scrollItemList(selectedOptionRef);\n    }\n  }, [isExpanded]);\n\n  var scrollItemList = function scrollItemList(scrollToRef) {\n    var scrollToItem = !!(scrollToRef !== null && scrollToRef !== void 0 && scrollToRef.current) ? scrollToRef.current : highlightedOptionRef.current;\n\n    if (!!scrollToItem && !!props.scrollContainerRef.current) {\n      var elementOffsetTop = scrollToItem.offsetTop || 0;\n      var elementOffsetHeight = scrollToItem.offsetHeight || 0;\n\n      if (elementOffsetTop < props.scrollContainerRef.current.scrollTop) {\n        props.scrollContainerRef.current.scrollTop = elementOffsetTop;\n      } else {\n        var offsetBottom = elementOffsetTop + elementOffsetHeight;\n        var scrollBottom = props.scrollContainerRef.current.scrollTop + props.scrollContainerRef.current.offsetHeight;\n\n        if (offsetBottom > scrollBottom) {\n          props.scrollContainerRef.current.scrollTop = offsetBottom - props.scrollContainerRef.current.offsetHeight;\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ListboxList, {\n    onKeyDown: function onKeyDown(event) {\n      if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n        scrollToHighlightedOptionRef.current = true;\n      }\n    }\n  }, props.children);\n};\n\nvar BaseDropdown = /*#__PURE__*/function (_Component) {\n  _inherits(BaseDropdown, _Component);\n\n  var _super = _createSuper(BaseDropdown);\n\n  function BaseDropdown(props) {\n    var _this;\n\n    _classCallCheck(this, BaseDropdown);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      selectedValue: 'value' in _this.props ? _this.props.value : 'defaultValue' in _this.props ? _this.props.defaultValue : undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"buttonRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"popoverRef\", void 0);\n\n    _this.buttonRef = /*#__PURE__*/React.createRef();\n    _this.popoverRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(BaseDropdown, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          id = _this$props.id,\n          name = _this$props.name,\n          disabled = _this$props.disabled,\n          children = _this$props.children,\n          labelText = _this$props.labelText,\n          labelMode = _this$props.labelMode,\n          forwardedRef = _this$props.forwardedRef,\n          optionalText = _this$props.optionalText,\n          ariaLabelledBy = _this$props['aria-labelledby'],\n          visualPlaceholder = _this$props.visualPlaceholder,\n          alwaysShowVisualPlaceholder = _this$props.alwaysShowVisualPlaceholder,\n          className = _this$props.className,\n          _this$props$dropdownB = _this$props.dropdownButtonProps,\n          dropdownButtonProps = _this$props$dropdownB === void 0 ? {} : _this$props$dropdownB,\n          _this$props$dropdownP = _this$props.dropdownPopoverProps,\n          dropdownPopoverProps = _this$props$dropdownP === void 0 ? {} : _this$props$dropdownP,\n          propOnChange = _this$props.onChange,\n          tooltipComponent = _this$props.tooltipComponent,\n          passProps = _objectWithoutProperties(_this$props, _excluded);\n\n      if (React.Children.count(children) < 1) {\n        getLogger().warn(\"Dropdown '\".concat(labelText, \"' does not contain items\"));\n        return null;\n      }\n\n      var labelId = \"\".concat(id, \"-label\");\n      var buttonId = \"\".concat(id, \"_button\");\n      var selectedValue = this.state.selectedValue;\n\n      var passDropdownPopoverProps = _objectSpread(_objectSpread({}, dropdownPopoverProps), {}, {\n        className: classnames(className, dropdownClassNames.popover, _defineProperty({}, dropdownClassNames.noSelectedStyles, !!alwaysShowVisualPlaceholder))\n      });\n\n      var onChange = function onChange(newValue) {\n        if (!!propOnChange) {\n          propOnChange(newValue);\n        }\n\n        if (!('value' in _this2.props)) {\n          _this2.setState({\n            selectedValue: newValue\n          });\n        }\n      };\n\n      var listboxDisplayValue = alwaysShowVisualPlaceholder ? visualPlaceholder : !!selectedValue ? null : visualPlaceholder;\n      return /*#__PURE__*/React.createElement(HtmlSpan, _objectSpread({\n        className: classnames(className, baseClassName),\n        id: id\n      }, passProps), /*#__PURE__*/React.createElement(HtmlDiv, null, /*#__PURE__*/React.createElement(Label, {\n        id: labelId,\n        labelMode: labelMode,\n        optionalText: optionalText,\n        className: classnames(_defineProperty({}, dropdownClassNames.labelIsVisible, labelMode !== 'hidden')),\n        tooltipComponent: tooltipComponent\n      }, labelText), /*#__PURE__*/React.createElement(ListboxInput, _objectSpread(_objectSpread({}, getConditionalAriaProp('aria-labelledby', [ariaLabelledBy, labelId])), {}, {\n        disabled: disabled,\n        onChange: onChange,\n        ref: forwardedRef,\n        name: name,\n        value: selectedValue || ''\n      }), /*#__PURE__*/React.createElement(ListboxButton, _objectSpread(_objectSpread({\n        ref: this.buttonRef\n      }, dropdownButtonProps), {}, {\n        id: buttonId,\n        className: classnames(dropdownClassNames.button, _defineProperty({}, dropdownClassNames.disabled, !!disabled))\n      }, getConditionalAriaProp('aria-labelledby', selectedValue === undefined ? [ariaLabelledBy, labelId] : [])), listboxDisplayValue), /*#__PURE__*/React.createElement(ListboxPopover, _objectSpread(_objectSpread({\n        ref: this.popoverRef,\n        position: positionMatchWidth\n      }, passDropdownPopoverProps), {}, {\n        onKeyDownCapture: function onKeyDownCapture(event) {\n          if (event.code === 'Tab' && !!_this2.buttonRef.current) {\n            event.preventDefault();\n\n            _this2.buttonRef.current.focus();\n          }\n        },\n        onKeyDown: function onKeyDown(event) {\n          if (event.key === 'Escape') {\n            event.stopPropagation();\n          }\n        }\n      }), /*#__PURE__*/React.createElement(ListBoxContextWrapper, {\n        scrollContainerRef: this.popoverRef\n      }, children)))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var value = nextProps.value;\n\n      if ('value' in nextProps && value !== prevState.selectedValue) {\n        return {\n          selectedValue: value\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return BaseDropdown;\n}(Component);\n\nvar StyledDropdown = styled(function (_ref) {\n  _ref.theme;\n\n  var passProps = _objectWithoutProperties(_ref, _excluded2);\n\n  return /*#__PURE__*/React.createElement(BaseDropdown, _objectSpread({}, passProps));\n}).withConfig({\n  componentId: \"sc-ykxi7a-0\"\n})([\"\", \"\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return baseStyles(theme);\n});\nvar Dropdown = /*#__PURE__*/forwardRef(function (props, ref) {\n  var propId = props.id,\n      passProps = _objectWithoutProperties(props, _excluded3);\n\n  return /*#__PURE__*/React.createElement(SuomifiThemeConsumer, null, function (_ref3) {\n    var suomifiTheme = _ref3.suomifiTheme;\n    return /*#__PURE__*/React.createElement(AutoId, {\n      id: propId\n    }, function (id) {\n      return /*#__PURE__*/React.createElement(StyledDropdown, _objectSpread({\n        theme: suomifiTheme,\n        id: id,\n        forwardedRef: ref\n      }, passProps));\n    });\n  });\n});\nDropdown.displayName = 'Dropdown';\nexport { Dropdown, dropdownClassNames };","import { css } from 'styled-components';\nimport { inputButton, element } from '../../theme/reset/index.js';\n\nvar baseStyles = function baseStyles(theme) {\n  return css([\"&.fi-dropdown{display:inline-block;& .fi-dropdown_label--visible{margin-bottom:\", \";}}& [data-reach-listbox-button].fi-dropdown_button{\", \" position:relative;display:inline-block;word-break:break-word;overflow-wrap:break-word;min-height:22px;padding:7px 38px 7px 7px;border-color:\", \";text-align:left;line-height:1.5;background-color:\", \";box-shadow:\", \";cursor:pointer;&:focus{outline:0;position:relative;&:after{\", \"}}&:before{content:'';position:absolute;top:50%;right:16px;margin-top:-3px;border-style:solid;border-color:\", \" transparent transparent transparent;border-width:6px 4px 0 4px;}&[aria-expanded='true']:before{border-color:transparent transparent \", \" transparent;border-width:0 4px 6px 4px;}&.fi-dropdown--disabled{background-color:\", \";color:\", \";opacity:1;cursor:not-allowed;&:before{border-color:\", \" transparent transparent transparent;}}}&[data-reach-listbox-popover].fi-dropdown_popover{\", \" \", \" margin-top:-1px;padding:0;box-sizing:border-box;font-size:100%;border:0;background-color:\", \";border-color:\", \";border-style:solid;border-width:0 1px 1px 1px;border-radius:0px 0px \", \" \", \";max-height:265px;overflow-y:auto;overflow-x:hidden;&:focus-within{outline:0;box-shadow:none;}}&.fi-dropdown--noSelectedStyles{& [data-reach-listbox-option][data-current-selected].fi-dropdown_item{background-color:\", \";\", \";}& [data-reach-listbox-option][data-current-nav].fi-dropdown_item{color:\", \";background-image:none;background-color:\", \";border:0;}}& [data-reach-listbox-list]{border:0;padding:0;margin:0;white-space:normal;word-break:break-word;overflow-wrap:break-word;}\"], theme.spacing.xs, inputButton(theme), theme.colors.depthDark3, theme.colors.whiteBase, theme.shadows.actionElementBoxShadow, theme.focus.absoluteFocus, theme.colors.depthDark3, theme.colors.depthDark3, theme.colors.depthLight3, theme.colors.depthBase, theme.colors.depthBase, element(theme), theme.typography.actionElementInnerText, theme.colors.whiteBase, theme.colors.depthDark3, theme.radius.basic, theme.radius.basic, theme.colors.whiteBase, theme.typography.actionElementInnerText, theme.colors.blackBase, theme.colors.highlightLight3);\n};\n\nexport { baseStyles };","import { css } from 'styled-components';\nimport { element } from '../../theme/reset/index.js';\n\nvar baseStyles = function baseStyles(theme) {\n  return css([\"&[data-reach-listbox-option].fi-dropdown_item{\", \" \", \" cursor:pointer;line-height:1.5;padding:\", \";border:0;&:focus{outline:0;}}&[data-reach-listbox-option][data-current-selected].fi-dropdown_item{\", \" background-image:none;background-color:\", \";border:0;}&[data-reach-listbox-option][data-current-nav].fi-dropdown_item{color:\", \";background-image:none;background-color:\", \";border:0;}\"], element(theme), theme.typography.actionElementInnerText, theme.spacing.insetM, theme.typography.actionElementInnerTextBold, theme.colors.highlightLight3, theme.colors.blackBase, theme.colors.highlightLight3);\n};\n\nexport { baseStyles };","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport React from 'react';\nimport { ListboxOption } from '@reach/listbox';\nimport styled from 'styled-components';\nimport { baseStyles } from './DropdownItem.basestyles.js';\nimport { dropdownClassNames } from '../Dropdown/Dropdown.js';\nimport classnames from 'classnames';\nimport { SuomifiThemeConsumer } from '../../theme/SuomifiThemeProvider/SuomifiThemeProvider.js';\nimport '../../theme/SuomifiTheme/SuomifiTheme.js';\nvar _excluded = [\"className\", \"theme\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar BaseDropdownItem = function BaseDropdownItem(props) {\n  var className = props.className;\n  props.theme;\n\n  var passProps = _objectWithoutProperties(props, _excluded);\n\n  return /*#__PURE__*/React.createElement(ListboxOption, _objectSpread({\n    className: classnames(className, dropdownClassNames.item)\n  }, passProps));\n};\n\nvar StyledDropdownItem = styled(BaseDropdownItem).withConfig({\n  componentId: \"sc-18aaa06-0\"\n})([\"\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return baseStyles(theme);\n});\n\nvar DropdownItem = function DropdownItem(props) {\n  return /*#__PURE__*/React.createElement(SuomifiThemeConsumer, null, function (_ref2) {\n    var suomifiTheme = _ref2.suomifiTheme;\n    return /*#__PURE__*/React.createElement(StyledDropdownItem, _objectSpread({\n      theme: suomifiTheme\n    }, props));\n  });\n};\n\nDropdownItem.displayName = 'DropdownItem';\nexport { DropdownItem };","import React from 'react';\n\nimport dropdownContent from '../../../locale/fi/dropdown.json';\nimport Layout from 'components/layout';\nimport SEO from 'components/seo';\nimport ComponentDescription from 'components/ComponentDescription';\nimport sideNavData from 'config/sidenav/components';\nimport NoteBox from 'components/NoteBox';\nimport Section from 'components/Section';\nimport ComponentExample from 'components/ComponentExample';\nimport { Heading, Text, Paragraph } from 'components/ResponsiveComponents';\nimport { Dropdown, DropdownItem } from 'suomifi-ui-components';\n\nconst Page = (): JSX.Element => (\n  <Layout sideNavData={sideNavData}>\n    <SEO title={dropdownContent.title} />\n    <Heading variant=\"h1\">{dropdownContent.title}</Heading>\n\n    <Paragraph variant=\"lead\">\n      <Text variant=\"lead\">{dropdownContent.intro}</Text>\n    </Paragraph>\n\n    <ComponentDescription\n      mainTitle={dropdownContent['example.title']}\n      description={dropdownContent['example.description']}\n    >\n      <ComponentExample>\n        <Dropdown name=\"Dropdown\" labelText={dropdownContent['example.label']}>\n          <DropdownItem value=\"1\">\n            {dropdownContent['example.option1']}\n          </DropdownItem>\n          <DropdownItem value=\"2\">\n            {dropdownContent['example.option2']}\n          </DropdownItem>\n          <DropdownItem value=\"3\">\n            {dropdownContent['example.option3']}\n          </DropdownItem>\n        </Dropdown>\n      </ComponentExample>\n    </ComponentDescription>\n\n    <NoteBox\n      title={dropdownContent['note.title']}\n      items={dropdownContent['note.items']}\n    />\n\n    {dropdownContent.sections.map((section, index) => (\n      <Section\n        key={index}\n        mainTitle={section.title}\n        paragraphs={section.paragraphs}\n        links={section.links}\n      />\n    ))}\n\n    <ComponentDescription\n      mainTitle={dropdownContent['example1.title']}\n      description={dropdownContent['example1.description']}\n    >\n      <ComponentExample>\n        <Dropdown\n          visualPlaceholder={dropdownContent['example1.placeholder']}\n          alwaysShowVisualPlaceholder\n          labelText={dropdownContent['example1.label']}\n          onChange={(action) => console.log(action, 'selected')}\n        >\n          <DropdownItem value=\"Toiminto1\">\n            {dropdownContent['example1.option1']}\n          </DropdownItem>\n          <DropdownItem value=\"Toiminto2\">\n            {dropdownContent['example1.option2']}\n          </DropdownItem>\n        </Dropdown>\n      </ComponentExample>\n    </ComponentDescription>\n  </Layout>\n);\n\nexport default Page;\n"],"names":["_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","baseClassName","labelTextClassNames","labelSpan","concat","optionalText","StyledLabel","_ref","className","contentStyle","contentClassName","theme","tooltipComponent","_ref$labelMode","labelMode","wrapperProps","children","_ref$asProp","asProp","tooltipComponentProp","_ref$forceTooltipRere","forceTooltipRerender","passProps","_useState","useState","_useState2","wrapperRef","setWrapperRef","HtmlDiv","forwardedRef","ref","VisuallyHidden","as","HtmlSpan","style","isValidElement","cloneElement","anchorElement","Date","now","withConfig","componentId","_ref2","css","colors","blackBase","typography","bodyTextSmall","spacing","insetS","baseStyles","Label","props","_ref3","suomifiTheme","displayName","createStableCallbackHook","useEffectHook","callback","callbackRef","useRef","current","useCallback","t","NotStarted","Running","Stopped","n","type","e","r","assignment","name","exec","o","a","u","value","context","actions","changed","matches","s","useConstant","fn","v","_extends","assign","prototype","hasOwnProperty","call","this","useMachine","initialMachine","refs","DEBUG","machineRef","service","initialState","Set","_machine","send","transition","subscribe","add","unsubscribe","delete","start","stop","clear","state","status","lastEventType","_React$useState","currentValue","getServiceState","setState","rawEvent","event","refValues","entries","reduce","unwrapRefs","useEffect","newState","useMemo","useCreateMachine","machineDefinition","options","config","_options","initial","states","entry","map","c","f","l","p","g","y","on","d","x","cond","m","h","exit","Symbol","iterator","next","done","S","error","return","_commonEvents","ListboxStates","ListboxEvents","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","clearNavigationValue","navigationValue","clearTypeahead","typeaheadQuery","assignValue","_","data","navigateFromCurrentValue","_data$options$find","selected","find","option","undefined","disabled","listboxLostFocus","Blur","_event$refs","list","popover","relatedTarget","ownerDocument","activeElement","contains","clickedOutsideOfListbox","OutsideMouseDown","OutsideMouseUp","_event$refs2","button","optionIsActive","shouldNavigate","_event$refs3","focusList","requestAnimationFrame","focus","focusButton","listboxIsNotDisabled","optionIsNavigable","OptionTouchStart","optionIsSelectable","selectOption","submitForm","KeyDownEnter","hiddenInput","form","submitButton","querySelector","click","setTypeahead","query","setValueFromTypeahead","UpdateAfterTypeahead","match","findOptionFromTypeahead","setNavSelectionFromTypeahead","commonEvents","GetDerivedData","ctx","ValueChange","string","label","toLowerCase","startsWith","_excluded3","_excluded4","_excluded5","_excluded6","_excluded7","ListboxDescendantContext","ListboxContext","ListboxInput","forwardRef","_ref$as","Comp","ariaLabelledBy","ariaLabel","defaultValue","_ref$disabled","onChange","required","valueProp","_ref$__componentName","__componentName","isControlled","_useDescendantsInit","setOptions","buttonRef","hiddenInputRef","highlightedOptionRef","inputRef","listRef","popoverRef","selectedOptionRef","machine","_extends2","_extends3","_extends4","_extends5","_extends6","_states","id","Idle","ButtonMouseDown","Open","KeyDownSpace","Navigating","KeyDownSearch","ClearTypeahead","KeyDownNavigate","Interacting","ClearNavSelection","KeyDownEscape","OptionMouseDown","Dragging","OptionClick","OptionPress","OptionMouseEnter","ButtonMouseUp","ListMouseUp","OptionMouseMove","OptionMouseUp","createMachineDefinition","_useMachine","highlightedOption","input","selectedOption","_id","valueLabel","isExpanded","includes","isListboxExpanded","listboxId","listboxValueLabel","onValueChange","newValue","stateData","mounted","first","controlPropValue","internalValue","useControlledStateSync","handleMouseDown","popoverContainsEventTarget","window","addEventListener","removeEventListener","handleMouseUp","createElement","Provider","items","set","expanded","readOnly","tabIndex","ListboxButtonImpl","_ref4","_ref4$arrow","arrow","_ref4$as","onKeyDown","onMouseDown","onMouseUp","_React$useContext","useContext","listboxValue","handleKeyDown","useKeyDown","Boolean","join","role","nativeEvent","preventDefault","stopPropagation","ListboxArrow","ListboxButton","memo","ListboxArrowImpl","_ref5","_ref5$as","ListboxPopoverImpl","_ref6","_ref6$as","_ref6$position","position","onBlur","_ref6$portal","portal","unstable_observableRefs","_React$useContext3","commonProps","hidden","targetRef","ListboxPopover","ListboxList","_ref7","_ref7$as","_React$useContext4","_React$useContext4$st","useOptionId","ListboxOption","_ref8","_ref8$as","indexProp","index","labelProp","onClick","onMouseEnter","onMouseLeave","onMouseMove","onTouchStart","_React$useContext5","_React$useContext5$st","labelState","setLabel","ownRef","_useStatefulRefValue","element","handleRefSet","descendant","getLabelFromDomNode","node","prevState","textContent","isHighlighted","isSelected","_React$useContext9","listboxDisabled","_React$useContext9$st","stableOnValueChange","timeout","setTimeout","clearTimeout","findIndex","_ref11","isSearching","navOption","eventType","shiftKey","KeyDownShiftTab","KeyDownTab","currentIndex","orientation","rotate","nextIndex","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","result","Super","NewTarget","constructor","dropdownClassNames","labelIsVisible","item","noSelectedStyles","ListBoxContextWrapper","_useListboxContext","_React$useContext8","useListboxContext","scrollToHighlightedOptionRef","scrollItemList","scrollToRef","scrollToItem","scrollContainerRef","elementOffsetTop","offsetTop","elementOffsetHeight","offsetHeight","scrollTop","offsetBottom","BaseDropdown","_Component","_super","_this","selectedValue","_this2","_this$props","labelText","visualPlaceholder","alwaysShowVisualPlaceholder","_this$props$dropdownB","dropdownButtonProps","_this$props$dropdownP","dropdownPopoverProps","propOnChange","warn","labelId","buttonId","passDropdownPopoverProps","listboxDisplayValue","onKeyDownCapture","code","nextProps","Component","StyledDropdown","xs","depthDark3","whiteBase","shadows","actionElementBoxShadow","absoluteFocus","depthLight3","depthBase","actionElementInnerText","radius","basic","highlightLight3","Dropdown","propId","AutoId","StyledDropdownItem","insetM","actionElementInnerTextBold","DropdownItem","React","Layout","sideNavData","SEO","title","dropdownContent","Heading","variant","Paragraph","Text","ComponentDescription","mainTitle","description","ComponentExample","NoteBox","section","Section","paragraphs","links","action","console","log"],"sourceRoot":""}