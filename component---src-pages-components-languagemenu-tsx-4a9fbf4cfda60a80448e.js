"use strict";(self.webpackChunksuomifi_design_system=self.webpackChunksuomifi_design_system||[]).push([[4589],{87126:function(e,n,t){t.r(n),t.d(n,{default:function(){return He}});var r=t(67294),a=t(79450),o=t(15083),i=t(10719),u=t(45786),c=t(92167),l=t(93024),d=t(39497),s=t(91971),f=t(39657),p=t(4942),m=t(45987),g=t(15671),v=t(43144),h=t(60136),y=t(82963),b=t(61120),E=t(97166),w=t(69931),x=t.n(w),O=t(73595),M=t(776),R=t(79526),k=t(6113);function I(e){var n=(0,r.useRef)(null);return(0,r.useEffect)((function(){n.current=e}),[e]),n.current}var _=t(65012),D=t(61986),C=t(38966),T=t(83693),N=t(13034),L=t(89199),S=t(10988);function j(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}function P(){return P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P.apply(this,arguments)}var B=["onKeyDown","onMouseDown","id","ref"],Z=["index","isLink","onClick","onDragStart","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseUp","onSelect","disabled","onFocus","valueText","ref"],A=["id","onKeyDown","ref"],F=["onBlur","portal","position","ref"],U="CLEAR_SELECTION_INDEX",K="CLICK_MENU_ITEM",Y="CLOSE_MENU",G="OPEN_MENU_AT_INDEX",X="OPEN_MENU_CLEARED",q="SEARCH_FOR_ITEM",H="SELECT_ITEM_AT_INDEX",Q="SET_BUTTON_ID",W=(0,R.nm)("DropdownDescendantContext"),J=(0,D.o)("DropdownContext",{}),V={triggerId:null,isExpanded:!1,typeaheadQuery:"",selectionIndex:-1},z=function(e){var n=e.id,t=e.children,a=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(null),u=(0,R.f5)(),c=u[0],l=u[1],d=(0,M.M)(n),s=n||(0,T.q)("menu",d),f=(0,T.q)("menu-button",s),p=(0,r.useReducer)(oe,P({},V,{triggerId:f})),m=p[0],g=p[1],v=(0,r.useRef)(!1),h=(0,r.useRef)([]),y=(0,r.useRef)(!1),b=(0,r.useRef)({x:0,y:0}),E={dispatch:g,dropdownId:s,dropdownRef:o,mouseDownStartPosRef:b,popoverRef:i,readyToSelect:y,selectCallbacks:h,state:m,triggerClickedRef:v,triggerRef:a};return(0,r.useEffect)((function(){m.isExpanded?(window.__REACH_DISABLE_TOOLTIPS=!0,window.requestAnimationFrame((function(){ae(o.current)}))):window.__REACH_DISABLE_TOOLTIPS=!1}),[m.isExpanded]),(0,r.createElement)(R.w_,{context:W,items:c,set:l},(0,r.createElement)(J.Provider,{value:E},(0,C.mf)(t)?t({isExpanded:m.isExpanded,isOpen:m.isExpanded}):t))};function $(e){var n=e.onKeyDown,t=e.onMouseDown,a=e.id,o=e.ref,i=j(e,B),u=ie(),c=u.dispatch,l=u.dropdownId,d=u.mouseDownStartPosRef,s=u.triggerClickedRef,f=u.triggerRef,p=u.state,m=p.triggerId,g=p.isExpanded,v=(0,L.e)(f,o),h=ue(),y=(0,r.useMemo)((function(){return h.findIndex((function(e){return!e.disabled}))}),[h]);return(0,r.useEffect)((function(){null!=a&&a!==m&&c({type:Q,payload:a})}),[m,c,a]),{data:{isExpanded:g,controls:l},props:P({},i,{ref:v,id:m||void 0,onKeyDown:(0,S.M)(n,(function(e){switch(e.key){case"ArrowDown":case"ArrowUp":e.preventDefault(),c({type:G,payload:{index:y}});break;case"Enter":case" ":c({type:G,payload:{index:y}})}})),onMouseDown:(0,S.M)(t,(function(e){(0,k.d)(e.nativeEvent)||(d.current={x:e.clientX,y:e.clientY},g||(s.current=!0),c(g?{type:Y}:{type:X}))})),type:"button"})}}function ee(e){var n=e.index,t=e.isLink,a=void 0!==t&&t,o=e.onClick,i=e.onDragStart,u=e.onMouseDown,c=e.onMouseEnter,l=e.onMouseLeave,d=e.onMouseMove,s=e.onMouseUp,f=e.onSelect,p=e.disabled,m=e.onFocus,g=e.valueText,v=e.ref,h=j(e,Z),y=ie(),b=y.dispatch,E=y.dropdownRef,w=y.mouseDownStartPosRef,x=y.readyToSelect,O=y.selectCallbacks,M=y.triggerRef,I=y.state,D=I.selectionIndex,C=I.isExpanded,T=(0,r.useRef)(null),B=(0,r.useState)(g||""),A=B[0],F=B[1],Y=(0,r.useCallback)((function(e){!g&&null!=e&&e.textContent&&F(e.textContent)}),[g]),G=(0,r.useRef)(!1),X=(0,N.B)(T,null),q=X[0],Q=X[1],J=(0,r.useMemo)((function(){return{element:q,key:A,disabled:p,isLink:a}}),[p,q,a,A]),V=(0,R.Yf)(J,W,n),z=V===D&&!p,$=(0,L.e)(v,Q,Y);function ee(){ae(M.current),f&&f(),b({type:K})}return O.current[V]=f,(0,r.useEffect)((function(){if(C){var e=window.setTimeout((function(){x.current=!0}),400);return function(){window.clearTimeout(e)}}x.current=!1}),[C,x]),(0,r.useEffect)((function(){var e=(0,_.r)(T.current);return e.addEventListener("mouseup",n),function(){e.removeEventListener("mouseup",n)};function n(){G.current=!1}}),[]),{data:{disabled:p},props:P({id:re(V),tabIndex:-1},h,{ref:$,"data-disabled":p?"":void 0,"data-selected":z?"":void 0,"data-valuetext":A,onClick:(0,S.M)(o,(function(e){(0,k.d)(e.nativeEvent)||a&&(p?e.preventDefault():ee())})),onDragStart:(0,S.M)(i,(function(e){a&&e.preventDefault()})),onMouseDown:(0,S.M)(u,(function(e){(0,k.d)(e.nativeEvent)||(a?G.current=!0:e.preventDefault())})),onMouseEnter:(0,S.M)(c,(function(e){var n=(0,_.r)(E.current);z||null==V||p||(null!=E&&E.current&&E.current!==n.activeElement&&T.current!==n.activeElement&&E.current.focus(),b({type:H,payload:{index:V}}))})),onMouseLeave:(0,S.M)(l,(function(e){b({type:U})})),onMouseMove:(0,S.M)(d,(function(e){if(!x.current){var n=Math.abs(e.clientX-w.current.x),t=Math.abs(e.clientY-w.current.y);(n>8||t>8)&&(x.current=!0)}z||null==V||p||b({type:H,payload:{index:V,dropdownRef:E}})})),onFocus:(0,S.M)(m,(function(){x.current=!0,z||null==V||p||b({type:H,payload:{index:V}})})),onMouseUp:(0,S.M)(s,(function(e){(0,k.d)(e.nativeEvent)||(x.current?a?G.current?G.current=!1:T.current&&T.current.click():p||ee():x.current=!0)}))})}}function ne(e){e.id;var n=e.onKeyDown,t=e.ref,a=j(e,A),o=ie(),i=o.dispatch,u=o.triggerRef,c=o.dropdownRef,l=o.selectCallbacks,d=o.dropdownId,s=o.state,f=s.isExpanded,p=s.triggerId,m=s.selectionIndex,g=s.typeaheadQuery,v=ue(),h=(0,L.e)(c,t);(0,r.useEffect)((function(){var e=function(e,n){void 0===n&&(n="");if(!n)return null;var t=e.find((function(e){var t,r,a;return!e.disabled&&(null==(t=e.element)||null==(r=t.dataset)||null==(a=r.valuetext)?void 0:a.toLowerCase().startsWith(n))}));return t?e.indexOf(t):null}(v,g);g&&null!=e&&i({type:H,payload:{index:e,dropdownRef:c}});var n=window.setTimeout((function(){return g&&i({type:q,payload:""})}),1e3);return function(){return window.clearTimeout(n)}}),[i,v,g,c]);var y=I(v.length),b=I(v[m]),E=I(m);(0,r.useEffect)((function(){m>v.length-1?i({type:H,payload:{index:v.length-1,dropdownRef:c}}):y!==v.length&&m>-1&&b&&E===m&&v[m]!==b&&i({type:H,payload:{index:v.findIndex((function(e){return e.key===(null==b?void 0:b.key)})),dropdownRef:c}})}),[c,i,v,y,b,E,m]);var w=(0,S.M)((function(e){var n=e.key;if(f)switch(n){case"Enter":case" ":var t=v.find((function(e){return e.index===m}));t&&!t.disabled&&(e.preventDefault(),t.isLink&&t.element?t.element.click():(ae(u.current),l.current[t.index]&&l.current[t.index](),i({type:K})));break;case"Escape":ae(u.current),i({type:Y});break;case"Tab":e.preventDefault();break;default:if((0,C.HD)(n)&&1===n.length){var r=g+n.toLowerCase();i({type:q,payload:r})}}}),(0,R.Dv)(W,{currentIndex:m,orientation:"vertical",rotate:!1,filter:function(e){return!e.disabled},callback:function(e){i({type:H,payload:{index:e,dropdownRef:c}})},key:"index"}));return{data:{activeDescendant:re(m)||void 0,triggerId:p},props:P({tabIndex:-1},a,{ref:h,id:d,onKeyDown:(0,S.M)(n,w)})}}function te(e){var n=e.onBlur,t=e.portal,a=void 0===t||t,o=e.position,i=e.ref,u=j(e,F),c=ie(),l=c.triggerRef,d=c.triggerClickedRef,s=c.dispatch,f=c.dropdownRef,p=c.popoverRef,m=c.state.isExpanded,g=(0,L.e)(p,i);return(0,r.useEffect)((function(){if(m){var e=(0,_.r)(p.current);return e.addEventListener("mousedown",n),function(){e.removeEventListener("mousedown",n)}}function n(e){var n,t;d.current?d.current=!1:(n=p.current,t=e.target,n&&n.contains(t)||s({type:Y}))}}),[d,l,s,f,p,m]),{data:{portal:a,position:o,targetRef:l,isExpanded:m},props:P({ref:g,hidden:!m,onBlur:(0,S.M)(n,(function(e){e.currentTarget.contains(e.relatedTarget)||s({type:Y})}))},u)}}function re(e){var n=(0,r.useContext)(J).dropdownId;return null!=e&&e>-1?(0,T.q)("option-"+e,n):void 0}function ae(e){e&&e.focus()}function oe(e,n){switch(void 0===n&&(n={}),n.type){case K:case Y:return P({},e,{isExpanded:!1,selectionIndex:-1});case"OPEN_MENU_AT_FIRST_ITEM":return P({},e,{isExpanded:!0,selectionIndex:0});case G:return P({},e,{isExpanded:!0,selectionIndex:n.payload.index});case X:return P({},e,{isExpanded:!0,selectionIndex:-1});case H:var t=n.payload.dropdownRef,r=void 0===t?{current:null}:t;if(n.payload.index>=0&&n.payload.index!==e.selectionIndex){if(r.current){var a=(0,_.r)(r.current);r.current!==(null==a?void 0:a.activeElement)&&r.current.focus()}return P({},e,{selectionIndex:null!=n.payload.max?Math.min(Math.max(n.payload.index,0),n.payload.max):Math.max(n.payload.index,0)})}return e;case U:return P({},e,{selectionIndex:-1});case Q:return P({},e,{triggerId:n.payload});case q:return void 0!==n.payload?P({},e,{typeaheadQuery:n.payload}):e;default:return e}}function ie(){return(0,r.useContext)(J)}function ue(){return(0,R.Ak)(W)}var ce=t(45226),le=t(33669);function de(){return de=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},de.apply(this,arguments)}function se(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}var fe=["as","id","children"],pe=["as"],me=["as"],ge=["as"],ve=["as"],he=["as"],ye=(0,r.forwardRef)((function(e,n){var t=e.as,a=void 0===t?r.Fragment:t,o=e.id,i=e.children,u=se(e,fe);(0,ce.kG)("menu-button");var c=(0,r.useMemo)((function(){try{return(0,le.isFragment)((0,r.createElement)(a,null))}catch(e){return!1}}),[a])?{}:de({ref:n,id:o,"data-reach-menu":""},u);return(0,r.createElement)(a,c,(0,r.createElement)(z,{id:o,children:i}))}));var be=(0,r.forwardRef)((function(e,n){var t=e.as,a=void 0===t?"button":t,o=$(de({},se(e,pe),{ref:n})),i=o.data,u=i.isExpanded,c=i.controls,l=o.props;return(0,r.createElement)(a,de({"aria-expanded":!!u||void 0,"aria-haspopup":!0,"aria-controls":c},l,{"data-reach-menu-button":""}))}));var Ee=(0,r.forwardRef)((function(e,n){var t=e.as,a=void 0===t?"div":t,o=ee(de({},se(e,me),{ref:n})),i=o.data.disabled,u=o.props;return(0,r.createElement)(a,de({role:"menuitem"},u,{"aria-disabled":i||void 0,"data-reach-menu-item":""}))})),we=(0,r.forwardRef)((function(e,n){var t=e.as,a=void 0===t?"div":t,o=se(e,ge);return(0,r.createElement)(Ee,de({},o,{ref:n,as:a}))}));var xe=(0,r.forwardRef)((function(e,n){var t=e.as,a=void 0===t?"div":t,o=ne(de({},se(e,ve),{ref:n})),i=o.data,u=i.activeDescendant,c=i.triggerId,l=o.props;return(0,r.createElement)(a,de({"aria-activedescendant":u,"aria-labelledby":c||void 0,role:"menu"},l,{"data-reach-menu-items":""}))}));var Oe=(0,r.forwardRef)((function(e,n){var t=e.as,a=void 0===t?"div":t,o=te(de({},se(e,he),{ref:n})),i=o.data,u=i.portal,c=i.targetRef,l=i.position,d=o.props,s={"data-reach-menu-popover":""};return u?(0,r.createElement)(O.J2,de({},d,s,{as:a,targetRef:c,position:l})):(0,r.createElement)(a,de({},d,s))}));var Me=t(75503),Re=t(72376),ke=t(50890),Ie=t(46248),_e=t(42137),De=["children","name","className","theme","forwardedRef","languageMenuButtonClassName","languageMenuOpenButtonClassName"],Ce=["theme","children"],Te=["children","name","className"];function Ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Le(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(t),!0).forEach((function(n){(0,p.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Se(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,b.Z)(e);if(n){var a=(0,b.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,y.Z)(this,t)}}var je="fi-language-menu",Pe={item:"".concat(je,"_item"),itemLang:"".concat(je,"-language_item"),button:"".concat(je,"_button"),buttonOpen:"".concat(je,"-language_button_open"),buttonLang:"".concat(je,"-language_button"),iconLang:"".concat(je,"-language_icon")},Be=function(e){(0,h.Z)(t,e);var n=Se(t);function t(){return(0,g.Z)(this,t),n.apply(this,arguments)}return(0,v.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.children,t=e.name,a=e.className,o=e.theme,i=e.forwardedRef,u=e.languageMenuButtonClassName,c=e.languageMenuOpenButtonClassName,l=(0,m.Z)(e,De);return r.Children.count(n)<1?((0,Re.j)().warn("Menu '".concat(t,"' does not contain items")),null):r.createElement(ke.I,{className:x()(a,je)},r.createElement(ye,null,(function(e){var a=e.isOpen;return r.createElement(r.Fragment,null,r.createElement(be,Le(Le({ref:i},l),{},{className:x()(u,a&&c)}),t),r.createElement(Ue,{theme:o,position:O.MN},n))})))}}]),t}(r.Component),Ze=(0,E.default)((function(e){return r.createElement(Be,Le({},e))})).withConfig({componentId:"sc-1lm0gob-0"})(["",""],(function(e){return function(e){return(0,E.css)(["& > [data-reach-menu-button].fi-language-menu_button{"," "," cursor:pointer;&.fi-language-menu-language_button{"," "," padding:9px ",";line-height:24px;background-color:",";border:1px solid transparent;border-radius:",";word-break:break-word;& > .fi-language-menu-language_icon{height:1em;width:1em;transform:translateY(0.2em);margin-left:",";& .fi-icon-base-fill{fill:",";}}&:focus{outline:0;position:relative;&::after{","}}&:hover{border-color:",";}}&.fi-language-menu-language_button_open{border-color:",";& > .fi-language-menu-language_icon.fi-language-menu-language_icon{transform:translateY(0.2em) rotate(180deg);}}}"],(0,_e.bG)(e),e.typography.bodyText,(0,_e.bG)(e),e.typography.actionElementInnerTextBold,e.spacing.xs,e.colors.whiteBase,e.radius.basic,e.spacing.xs,e.colors.highlightBase,e.focus.absoluteFocus,e.colors.depthLight1,e.colors.depthLight1)}(e.theme)})),Ae=function(e){return r.createElement(r.Fragment,null,e,r.createElement(Ie.JO,{icon:"chevronDown",className:Pe.iconLang}))},Fe=function(e,n){return e&&n?{left:"".concat(e.left-n.width+e.width,"px"),top:"".concat(e.top+e.height+window.pageYOffset,"px"),maxWidth:"".concat(Math.max(e.width,e.width+e.left-30),"px"),minWidth:"".concat(e.width-2,"px")}:{}},Ue=(0,E.default)((function(e){e.theme;var n=e.children,t=(0,m.Z)(e,Ce);return r.createElement(Oe,Le(Le({},t),{},{position:Fe,onKeyDown:function(e){"Escape"===e.key&&e.stopPropagation()}}),r.createElement(xe,null,n))})).withConfig({componentId:"sc-1lm0gob-1"})(["",""],(function(e){return function(e){return(0,E.css)(["&[data-reach-menu-popover]{"," "," background-color:",";box-shadow:",";"," position:absolute;box-sizing:content-box;margin-top:12px;border:1px solid ",";border-radius:",";&:before,&:after{content:'';position:absolute;height:0;width:0;bottom:100%;right:",";border:solid transparent;pointer-events:none;}&:before{border-bottom-color:",";border-width:8px;margin-right:-8px;}&:after{border-bottom-color:",";border-width:6.5px;margin-right:-6.5px;}}& [data-reach-menu-items]{border:0;padding:0;white-space:normal;}& [data-reach-menu-item].fi-language-menu_item{"," "," word-break:break-word;&[data-selected]{"," color:",";background-color:",";}&.fi-language-menu-language_item,&[data-selected].fi-language-menu-language_item{"," margin:"," 0;padding:0 "," 0 ",";border-left:4px solid transparent;background-color:transparent;&.fi-language-menu-lang-item-selected{",";border-left-color:",";}}&[data-selected].fi-language-menu-language_item{border-left-color:",";}&:focus{outline:0;}}"],(0,_e.bG)(e),e.typography.bodyText,e.colors.whiteBase,e.shadows.menuShadow,e.typography.actionElementInnerText,e.colors.depthLight1,e.radius.basic,e.spacing.l,e.colors.depthLight1,e.colors.whiteBase,(0,_e.bG)(e),e.typography.bodyText,e.typography.bodyText,e.colors.blackBase,e.colors.highlightLight3,e.typography.actionElementInnerText,e.spacing.xs,e.spacing.m,e.spacing.xxs,e.typography.actionElementInnerTextBold,e.colors.highlightBase,e.colors.highlightBase)}(e.theme)})),Ke=(0,r.forwardRef)((function(e,n){var t=e.children,a=e.name,o=e.className,i=(0,m.Z)(e,Te),u=x()(Pe.button,Pe.buttonLang,o);return r.createElement(Me.cY,null,(function(e){var o=e.suomifiTheme;return r.createElement(Ze,Le(Le({theme:o,forwardedRef:n},i),{},{name:Ae(a),languageMenuButtonClassName:u,languageMenuOpenButtonClassName:Pe.buttonOpen}),function(e,n){return r.Children.map(e,(function(e){return r.isValidElement(e)?r.cloneElement(e,{className:x()(Pe.item,n)}):e}))}(t,Pe.itemLang))}))}));Ke.displayName="LanguageMenu";var Ye=["selected","className"];function Ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ge(Object(t),!0).forEach((function(n){(0,p.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qe=function(e){var n=e.selected,t=e.className,a=(0,m.Z)(e,Ye);return r.createElement(we,Xe(Xe({},a),{},{className:x()(t,{"fi-language-menu-lang-item-selected":n})}))};qe.displayName="LanguageMenuItem";var He=function(){var e=(0,r.useState)(a.BI),n=e[0],t=e[1];return r.createElement(o.Z,{sideNavData:c.Z},r.createElement(i.Z,{title:a.TN}),r.createElement(f.X6,{variant:"h1"},a.TN),r.createElement(f.nv,{variant:"lead"},r.createElement(f.xv,{variant:"lead"},a.mf)),r.createElement(u.Z,null,r.createElement(s.Z,null,r.createElement(Ke,{name:n},r.createElement(qe,{onSelect:function(){return t(a.BI)},selected:n===a.BI},a.SV),r.createElement(qe,{onSelect:function(){return t(a.h8)},selected:n===a.h8},a.vk),r.createElement(qe,{onSelect:function(){return t(a.tr)},selected:n===a.tr},a.Ey)))),r.createElement(l.Z,{title:a.gG,items:a.TK}),a.NS.map((function(e,n){return r.createElement(d.Z,{key:n,mainTitle:e.title,paragraphs:e.paragraphs,links:e.links})})))}}}]);
//# sourceMappingURL=component---src-pages-components-languagemenu-tsx-4a9fbf4cfda60a80448e.js.map