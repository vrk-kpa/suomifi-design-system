"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{69322:function(e,t,o){o.d(t,{Lt:function(){return Y},_e:function(){return G},p3:function(){return F}});var n=o(86854),r=o(91),a=o(15671),l=o(43144),i=o(97326),s=o(60136),c=o(82963),d=o(61120),u=o(4942),p=o(67294),f=o(19521),h=o(94184),v=o.n(h),b=o(98492),m=o(93029),w=o(35243),y=o(12834),g=o(27143),x=o(54869),k=o(16344),S=o(27111),P=o(2763),E=o(43146),I=o(72465),D=o(1639),O=o(48180),V=o(22074),Z=o(29853),_=o(16121),C=o(17890),B=["id","name","disabled","children","labelText","labelMode","forwardedRef","optionalText","aria-labelledby","hintText","status","statusText","visualPlaceholder","alwaysShowVisualPlaceholder","className","onChange","onBlur","tooltipComponent","portal","statusTextAriaLiveMode","fullWidth","style"],T=["theme","globalMargins"],R=["theme","globalMargins"],N=["id"];function A(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?A(Object(o),!0).forEach((function(t){(0,u.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):A(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return(0,c.Z)(this,o)}}var K="fi-dropdown",F={baseClassName:K,labelIsVisible:"".concat(K,"_label--visible"),inputWrapper:"".concat(K,"_input-wrapper"),button:"".concat(K,"_button"),popover:"".concat(K,"_popover"),itemList:"".concat(K,"_item-list"),item:"".concat(K,"_item"),statusTextHasContent:"".concat(K,"_statusText--has-content"),displayValue:"".concat(K,"_display-value"),open:"".concat(K,"--open"),disabled:"".concat(K,"--disabled"),error:"".concat(K,"--error"),italicize:"".concat(K,"--italicize"),fullWidth:"".concat(K,"--full-width")},L={onItemClick:function(){return null},selectedDropdownValue:null,id:"",focusedItemValue:null,noSelectedStyles:!1,onItemTabPress:function(){return null},onItemMouseOver:function(){return null}},W=p.createContext(L),z=W.Provider,G=W.Consumer,H=function(e){(0,s.Z)(o,e);var t=M(o);function o(e){var n;return(0,a.Z)(this,o),n=t.call(this,e),(0,u.Z)((0,i.Z)(n),"state",{selectedValue:"value"in n.props?n.props.value:"defaultValue"in n.props?n.props.defaultValue:void 0,selectedValueNode:o.getSelectedValueNode("value"in n.props?n.props.value:"defaultValue"in n.props?n.props.defaultValue:void 0,n.props.children),ariaExpanded:!1,showPopover:!1,focusedDescendantId:"value"in n.props&&n.props.value?n.props.value:"defaultValue"in n.props?n.props.defaultValue:n.getFirstItemValue(),preventListScrolling:!1}),(0,u.Z)((0,i.Z)(n),"buttonRef",void 0),(0,u.Z)((0,i.Z)(n),"popoverRef",void 0),(0,u.Z)((0,i.Z)(n),"componentIsMounted",void 0),(0,u.Z)((0,i.Z)(n),"handleSpaceAndEnter",(function(e,t){var o=n.state,r=o.focusedDescendantId,a=o.showPopover;if(a){if(a&&r){var l=e.find((function(e){return(null===e||void 0===e?void 0:e.props.value)===r}));l&&!l.props.disabled&&n.handleItemSelection(l.props.value)}}else if(n.openPopover(),!r){var i=t();i&&n.setState({focusedDescendantId:i.props.value})}})),(0,u.Z)((0,i.Z)(n),"handleKeyDown",(function(e){n.setState({preventListScrolling:!1});var t=n.state,o=t.focusedDescendantId,r=t.ariaExpanded,a=t.showPopover,l=Array.isArray(n.props.children)?n.props.children:void 0!==n.props.children?[n.props.children]:void 0;if(l){var i=l.flat(),s=o?i.findIndex((function(e){return(null===e||void 0===e?void 0:e.props.value)===o})):null,c=function(){return i[null!==s?(s+1)%i.length:0]};switch(e.key){case"ArrowDown":if(e.preventDefault(),a){var d=c();d&&n.setState({focusedDescendantId:d.props.value})}else n.openPopover();break;case"ArrowUp":if(e.preventDefault(),a){var u=i[null!==s&&-1!==s?(s-1+i.length)%i.length:i.length-1];u&&n.setState({focusedDescendantId:u.props.value})}else n.openPopover();break;case" ":e.preventDefault(),n.setState({showPopover:!a,ariaExpanded:!r}),n.handleSpaceAndEnter(i,c);break;case"Enter":e.preventDefault(),n.handleSpaceAndEnter(i,c);break;case"Escape":a&&(e.stopPropagation(),n.focusToButtonAndClosePopover())}}})),(0,u.Z)((0,i.Z)(n),"handleOnBlur",(function(){var e=(0,O.r3)(n.buttonRef);e&&requestAnimationFrame((function(){var t,o,r=null===(t=n.popoverRef.current)||void 0===t?void 0:t.contains(e.activeElement);if(!r){n.props.onBlur&&n.props.onBlur();var a=null===(o=n.buttonRef.current)||void 0===o?void 0:o.contains(e.activeElement),l=r||a;l||n.setState({showPopover:l,ariaExpanded:l})}}))})),n.buttonRef=p.createRef(),n.popoverRef=p.createRef(),n}return(0,l.Z)(o,[{key:"componentDidMount",value:function(){this.componentIsMounted=!0}},{key:"componentWillUnmount",value:function(){this.componentIsMounted=!1}},{key:"isOutsideClick",value:function(e){return!!this.buttonRef&&this.buttonRef.current.contains(e.target)}},{key:"handleItemSelection",value:function(e){var t=this;this.props.onChange&&this.props.onChange(e),this.setState({selectedValue:e,selectedValueNode:o.getSelectedValueNode(e,this.props.children),focusedDescendantId:e,ariaExpanded:!1}),setTimeout((function(){var e;t.componentIsMounted&&(null===(e=t.buttonRef.current)||void 0===e||e.focus(),t.setState({showPopover:!1}))}),10)}},{key:"getFirstItemValue",value:function(){if(Array.isArray(this.props.children)){var e=this.props.children[0];return Array.isArray(e)?e[0].props.value:e.props.value}return this.props.children?this.props.children.props.value:null}},{key:"getDisplayValue",value:function(){var e;return this.props.alwaysShowVisualPlaceholder?this.props.visualPlaceholder:null!==(e=this.state.selectedValueNode)&&void 0!==e?e:this.props.visualPlaceholder}},{key:"focusToButtonAndClosePopover",value:function(){var e;this.setState({ariaExpanded:!1}),null===(e=this.buttonRef.current)||void 0===e||e.focus(),this.setState({showPopover:!1})}},{key:"openPopover",value:function(){var e=this;this.setState({showPopover:!0,ariaExpanded:!0}),setTimeout((function(){var t;null===(t=e.popoverRef.current)||void 0===t||t.focus()}),200)}},{key:"render",value:function(){var e,t=this,o=this.props,a=o.id,l=o.name,i=o.disabled,s=o.children,c=o.labelText,d=o.labelMode,f=o.forwardedRef,h=o.optionalText,w=o["aria-labelledby"],P=o.hintText,I=o.status,D=o.statusText,T=o.visualPlaceholder,R=o.alwaysShowVisualPlaceholder,N=o.className;o.onChange,o.onBlur;var A=o.tooltipComponent,M=o.portal,L=void 0===M||M,W=o.statusTextAriaLiveMode,G=void 0===W?"assertive":W,H=o.fullWidth,q=o.style,U=(0,r.Z)(o,B),Y=(0,E.Gu)(U),Q=(0,n.Z)(Y,2);Q[0];var X=Q[1];if(p.Children.count(s)<1)return(0,m.j)().warn("Dropdown '".concat(c,"' does not contain items")),null;var $=this.state,J=$.selectedValue,ee=$.ariaExpanded,te=$.showPopover,oe=$.focusedDescendantId,ne=$.preventListScrolling,re="".concat(a,"-label"),ae="".concat(a,"_button"),le="".concat(a,"-popover"),ie=P?"".concat(a,"-hintText"):void 0,se=D?"".concat(a,"-statusText"):void 0,ce="".concat(a,"-displayValue"),de=oe?"".concat(a,"-").concat(oe):"",ue=this.getDisplayValue(),pe=T&&!R&&!J,fe=f||null;return p.createElement(g.hh,{className:v()(N,K,(e={},(0,u.Z)(e,F.disabled,!!i),(0,u.Z)(e,F.open,!!te),(0,u.Z)(e,F.error,"error"===I),(0,u.Z)(e,F.italicize,pe),(0,u.Z)(e,F.fullWidth,H),e)),id:a,style:q},p.createElement(S._,{id:re,labelMode:d,optionalText:h,className:v()((0,u.Z)({},F.labelIsVisible,"hidden"!==d)),tooltipComponent:A,onClick:function(){var e;i||(null===(e=t.buttonRef.current)||void 0===e||e.focus())}},c),p.createElement(_.Q,{id:ie},P),p.createElement(g.hh,{className:F.inputWrapper},p.createElement(y.S,j(j(j({"aria-haspopup":"listbox",tabIndex:i?-1:0,forwardedRef:(0,O.K_)(this.buttonRef,fe),id:ae,className:F.button},(0,b.I)("aria-labelledby",[ce,w,re])),(0,b.I)("aria-describedby",[se,ie])),{},{"aria-owns":le,"aria-expanded":ee,onClick:function(){te?t.focusToButtonAndClosePopover():t.openPopover()},onKeyDown:this.handleKeyDown,onBlur:this.handleOnBlur},X),p.createElement(k.I,{className:F.displayValue,id:ce},ue),p.createElement(x.X,{tabIndex:-1,type:"hidden",name:l,value:J||""})),p.createElement(C.r,{id:se,className:v()((0,u.Z)({},F.statusTextHasContent,!!D)),status:I,disabled:i,ariaLiveMode:G},D),te&&p.createElement(V.$,{sourceRef:this.buttonRef,onClickOutside:function(e){t.isOutsideClick(e)||t.setState({showPopover:!1,ariaExpanded:!1})},matchWidth:!0,onKeyDown:this.handleKeyDown,portal:L},p.createElement(z,{value:{onItemClick:function(e){return t.handleItemSelection(e)},selectedDropdownValue:J,id:a,focusedItemValue:oe,noSelectedStyles:R,onItemTabPress:function(){return t.focusToButtonAndClosePopover()},onItemMouseOver:function(e){return t.setState({preventListScrolling:!0,focusedDescendantId:e})}}},p.createElement(Z.A,{id:le,ref:this.popoverRef,focusedDescendantId:de,className:F.itemList,onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),t.focusToButtonAndClosePopover())},preventScrolling:ne},s||[])))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value;return"value"in e&&n!==t.selectedValue?{selectedValue:n,selectedValueNode:o.getSelectedValueNode(n,e.children)}:t.selectedValue&&e.children&&o.valueExistsInChildren(t.selectedValue,e.children)?{selectedValue:t.selectedValue,selectedValueNode:o.getSelectedValueNode(t.selectedValue,e.children)}:null}},{key:"getSelectedValueNode",value:function(e,t){if(void 0!==e&&void 0!==t){if(!Array.isArray(t))return t.props.children;for(var o=t.flat(),n=0;n<o.length;n+=1){var r=o[n];if(r.props.value===e)return r.props.children}}}},{key:"valueExistsInChildren",value:function(e,t){return Array.isArray(t)?t.flat().some((function(t){return t.props.value===e})):t.props.value===e}}]),o}(p.Component),q=(0,f.ZP)((function(e){e.theme,e.globalMargins;var t=(0,r.Z)(e,T);return p.createElement(H,j({},t))})).withConfig({componentId:"sc-15kwal2-0"})(["",""],(function(e){var t=e.theme,o=e.globalMargins,a=(0,r.Z)(e,R),l=(0,E.Gu)(a),i=(0,n.Z)(l,2),s=i[0];return i[1],function(e,t,o){return(0,f.iv)(["width:290px;"," "," "," .fi-dropdown_item-list{padding-top:0;}&.fi-dropdown{display:inline-block;.fi-dropdown_label--visible{margin-bottom:",";}.fi-hint-text{margin-bottom:",";}.fi-status-text{line-height:1.1rem;&.fi-dropdown_statusText--has-content{margin-top:",";}}.fi-dropdown_button{"," position:relative;display:inline-block;word-break:break-word;width:100%;overflow-wrap:break-word;height:40px;padding:7px 38px 7px 7px;border-color:",";text-align:left;line-height:1.5;background-color:",";box-shadow:",";cursor:pointer;user-select:none;white-space:nowrap;&:focus-visible{outline:none;}&:before{content:'';position:absolute;top:50%;right:16px;margin-top:-3px;border-style:solid;border-color:"," transparent transparent transparent;border-width:6px 4px 0 4px;}&[aria-expanded='true']:before{border-color:transparent transparent "," transparent;border-width:0 4px 6px 4px;}}.fi-dropdown_display-value{width:100%;height:100%;display:inline-block;line-height:1.5;overflow:hidden;}.fi-dropdown_popover{"," "," margin-top:-1px;padding:0;box-sizing:border-box;font-size:100%;border:0;background-color:",";border-color:",";border-style:solid;border-width:0 1px 1px 1px;border-radius:0px 0px "," ",";max-height:265px;overflow-y:auto;overflow-x:hidden;&:focus-within{outline:0;box-shadow:none;}}&--full-width{width:100%;}&--open{.fi-dropdown_button{border-bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding-bottom:8px;}}&--error{.fi-dropdown_button{border-color:",";border-width:2px;}}&--italicize{.fi-dropdown_button{font-style:italic;color:",";opacity:1;}}&--disabled{.fi-dropdown_input-wrapper{cursor:not-allowed;.fi-dropdown_button{background-color:",";color:",";opacity:1;pointer-events:none;&:before{border-color:"," transparent transparent transparent;}}}}&:not(.fi-dropdown--open){.fi-dropdown_button{&:focus{"," position:relative;&:after{","}}}}}"],(0,E._s)(t),(0,E._s)(o,!0),(0,P.oE)(),e.spacing.xs,e.spacing.xs,e.spacing.xxs,(0,P.qH)(e),e.colors.depthDark3,e.colors.whiteBase,e.shadows.actionElementBoxShadow,e.colors.blackBase,e.colors.blackBase,(0,P.bG)(e),e.typography.actionElementInnerText,e.colors.whiteBase,e.colors.depthDark3,e.radiuses.basic,e.radiuses.basic,e.colors.alertBase,e.colors.depthDark2,e.colors.depthLight3,e.colors.depthBase,e.colors.depthBase,e.focuses.highContrastFocus,e.focuses.absoluteFocus)}(t,(0,O.li)(o.dropdown,s),s)})),U=function(e,t){var o=e.id,n=(0,r.Z)(e,N);return p.createElement(D.ON,null,(function(e){var r=e.margins;return p.createElement(I.cY,null,(function(e){var a=e.suomifiTheme;return p.createElement(w.z,{id:o},(function(e){return p.createElement(q,j({theme:a,globalMargins:r,id:e,forwardedRef:t},n))}))}))}))},Y=p.forwardRef(U);U.displayName="Dropdown"},947:function(e,t,o){o.d(t,{h:function(){return g}});var n=o(4942),r=o(91),a=o(67294),l=o(19521),i=o(53643),s=o(2763),c=o(69322),d=o(94184),u=o.n(d),p=o(72465),f=o(73705),h=o(48180),v=["children","className","theme","consumer","value","disabled"];function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var w={hasKeyboardFocus:"".concat(c.p3.item,"--hasKeyboardFocus"),selected:"".concat(c.p3.item,"--selected"),disabled:"".concat(c.p3.item,"--disabled"),noSelectedStyles:"".concat(c.p3.item,"--noSelectedStyles"),icon:"".concat(c.p3.item,"_icon")},y=(0,l.ZP)((function(e){var t,o=e.children,l=e.className;e.theme;var s=e.consumer,d=e.value,p=e.disabled,b=void 0!==p&&p,y=(0,r.Z)(e,v),g=s.selectedDropdownValue===d,x=s.focusedItemValue===d,k="".concat(s.id,"-").concat(d),S=(0,a.useRef)(null);(0,a.useLayoutEffect)((function(){var e,t;(null===(e=(0,h.r3)(S).activeElement)||void 0===e?void 0:e.id)!==k&&x&&(null===(t=S.current)||void 0===t||t.focus({preventScroll:!0}))}),[s.focusedItemValue]);return a.createElement(f.r,m({className:u()(l,c.p3.item,(t={},(0,n.Z)(t,w.hasKeyboardFocus,x),(0,n.Z)(t,w.selected,g),(0,n.Z)(t,w.disabled,b),(0,n.Z)(t,w.noSelectedStyles,s.noSelectedStyles),t)),tabIndex:x?0:-1,role:"option","aria-disabled":b,"aria-selected":g,id:k,onClick:function(){b||s.onItemClick(d)},forwardedRef:S,onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),s.onItemTabPress())},onMouseOver:function(){s.onItemMouseOver(d)}},y),o,g&&!s.noSelectedStyles&&a.createElement(i.N,{className:w.icon,"aria-hidden":!0}))})).withConfig({componentId:"sc-1pc651a-0"})(["",""],(function(e){return function(e){return(0,l.iv)(["&.fi-dropdown_item{"," "," cursor:pointer;line-height:1.5;padding:",";border:0;position:relative;&:focus{outline:0;}&:hover{background-color:",";color:",";}.fi-dropdown_item_icon{position:absolute;top:14px;right:10px;height:12px;width:12px;}&--selected{background-color:",";color:",";}&--hasKeyboardFocus{background-color:",";color:",";}&--noSelectedStyles{&.fi-dropdown_item--selected{background-color:",";color:",";&.fi-dropdown_item--hasKeyboardFocus{background-color:",";color:",";}}}&--disabled{color:",";cursor:not-allowed;&:hover{color:",";}}@media (forced-colors:active){&--hasKeyboardFocus,&:hover{background-color:Highlight;}}}"],(0,s.bG)(e),e.typography.actionElementInnerText,e.spacing.insetM,e.colors.highlightBase,e.colors.whiteBase,e.colors.depthSecondaryDark1,e.colors.blackBase,e.colors.highlightBase,e.colors.whiteBase,e.colors.whiteBase,e.colors.blackBase,e.colors.highlightBase,e.colors.whiteBase,e.colors.depthBase,e.colors.depthBase)}(e.theme)})),g=function(e){return a.createElement(p.cY,null,(function(t){var o=t.suomifiTheme;return a.createElement(c._e,null,(function(t){return a.createElement(y,m({theme:o,consumer:t},e))}))}))};g.displayName="DropdownItem"}}]);